"use strict";var SanityIntegration=(()=>{var ma=Object.create;var Gt=Object.defineProperty;var ya=Object.getOwnPropertyDescriptor;var va=Object.getOwnPropertyNames;var ga=Object.getPrototypeOf,ba=Object.prototype.hasOwnProperty;var Po=t=>{throw TypeError(t)};var wa=(t,e,r)=>e in t?Gt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var $o=(t,e)=>()=>(t&&(e=t(t=0)),e);var En=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ko=(t,e)=>{for(var r in e)Gt(t,r,{get:e[r],enumerable:!0})},qo=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of va(e))!ba.call(t,o)&&o!==r&&Gt(t,o,{get:()=>e[o],enumerable:!(n=ya(e,o))||n.enumerable});return t};var Fo=(t,e,r)=>(r=t!=null?ma(ga(t)):{},qo(e||!t||!t.__esModule?Gt(r,"default",{value:t,enumerable:!0}):r,t)),xa=t=>qo(Gt({},"__esModule",{value:!0}),t);var C=(t,e,r)=>wa(t,typeof e!="symbol"?e+"":e,r),Mo=(t,e,r)=>e.has(t)||Po("Cannot "+r);var f=(t,e,r)=>(Mo(t,e,"read from private field"),r?r.call(t):e.get(t)),q=(t,e,r)=>e.has(t)?Po("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),k=(t,e,r,n)=>(Mo(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);function kt(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Za(t){let e=JSON.stringify(t);return`${Ka}${Array.from(e).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map(o=>String.fromCodePoint(Bn[o])).join("")}).join("")}`}function ec(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function tc(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function Vi(t,e,r="auto"){return r===!0||r==="auto"&&(ec(t)||tc(t))?t:`${t}${Za(e)}`}function nc(t){var e;return{cleaned:t.replace(Ui,""),encoded:((e=t.match(Ui))==null?void 0:e[0])||""}}function oc(t){return t&&JSON.parse(nc(JSON.stringify(t)).cleaned)}function Wi(t){return oc(t)}var Ni,Bn,Ka,rc,Ui,Gn=$o(()=>{Ni={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},Bn={0:8203,1:8204,2:8205,3:65279},Ka=new Array(4).fill(String.fromCodePoint(Bn[0])).join("");Object.fromEntries(Object.entries(Bn).map(t=>t.reverse()));Object.fromEntries(Object.entries(Ni).map(t=>t.reverse()));rc=`${Object.values(Ni).map(t=>`\\u{${t.toString(16)}}`).join("")}`,Ui=new RegExp(`[${rc}]{4,}`,"gu")});var as={};ko(as,{encodeIntoResult:()=>ns,stegaEncodeSourceMap:()=>ss,stegaEncodeSourceMap$1:()=>Sc});function ac(t){return typeof t=="string"?es.test(t.trim()):typeof t=="object"&&"_key"in t}function ts(t){if(!Array.isArray(t))throw new Error("Path is not an array");return t.reduce((e,r,n)=>{let o=typeof r;if(o==="number")return`${e}[${r}]`;if(o==="string")return`${e}${n===0?"":"."}${r}`;if(ac(r)&&r._key)return`${e}[_key=="${r._key}"]`;if(Array.isArray(r)){let[i,s]=r;return`${e}[${i}:${s}]`}throw new Error(`Unsupported path segment \`${JSON.stringify(r)}\``)},"")}function cc(t){return`$${t.map(e=>typeof e=="string"?`['${e.replace(/[\f\n\r\t'\\]/g,r=>Ji[r])}']`:typeof e=="number"?`[${e}]`:e._key!==""?`[?(@._key=='${e._key.replace(/['\\]/g,r=>Ji[r])}')]`:`[${e._index}]`).join("")}`}function Qi(t){let e=[],r=/\['(.*?)'\]|\[(\d+)\]|\[\?\(@\._key=='(.*?)'\)\]/g,n;for(;(n=r.exec(t))!==null;){if(n[1]!==void 0){let o=n[1].replace(/\\(\\|f|n|r|t|')/g,i=>Xi[i]);e.push(o);continue}if(n[2]!==void 0){e.push(parseInt(n[2],10));continue}if(n[3]!==void 0){let o=n[3].replace(/\\(\\')/g,i=>Xi[i]);e.push({_key:o,_index:-1});continue}}return e}function rs(t){return t.map(e=>{if(typeof e=="string"||typeof e=="number")return e;if(e._key!=="")return{_key:e._key};if(e._index!==-1)return e._index;throw new Error(`invalid segment:${JSON.stringify(e)}`)})}function uc(t){return t.map(e=>{if(typeof e=="string"||typeof e=="number")return e;if(e._index!==-1)return e._index;throw new Error(`invalid segment:${JSON.stringify(e)}`)})}function fc(t,e){if(!e?.mappings)return;let r=cc(uc(t));if(e.mappings[r]!==void 0)return{mapping:e.mappings[r],matchedPath:r,pathSuffix:""};let n=Object.entries(e.mappings).filter(([a])=>r.startsWith(a)).sort(([a],[c])=>c.length-a.length);if(n.length==0)return;let[o,i]=n[0],s=r.substring(o.length);return{mapping:i,matchedPath:o,pathSuffix:s}}function lc(t){return t!==null&&Array.isArray(t)}function Lt(t,e,r=[]){if(lc(t))return t.map((n,o)=>{if(kt(n)){let i=n._key;if(typeof i=="string")return Lt(n,e,r.concat({_key:i,_index:o}))}return Lt(n,e,r.concat(o))});if(kt(t)){if(t._type==="block"||t._type==="span"){let n={...t};return t._type==="block"?n.children=Lt(t.children,e,r.concat("children")):t._type==="span"&&(n.text=Lt(t.text,e,r.concat("text"))),n}return Object.fromEntries(Object.entries(t).map(([n,o])=>[n,Lt(o,e,r.concat(n))]))}return e(t,r)}function ns(t,e,r){return Lt(t,(n,o)=>{if(typeof n!="string")return n;let i=fc(o,e);if(!i)return n;let{mapping:s,matchedPath:a}=i;if(s.type!=="value"||s.source.type!=="documentValue")return n;let c=e.documents[s.source.document],u=e.paths[s.source.path],p=Qi(a),d=Qi(u).concat(o.slice(p.length));return r({sourcePath:d,sourceDocument:c,resultPath:o,value:n})})}function is(t){return t.startsWith(os)}function rn(t){return t.startsWith(hc)}function mc(t){return!is(t)&&!rn(t)}function yc(t){if(!rn(t))return;let[e,r,...n]=t.split(ur);return r}function vc(t){return rn(t)?t.split(ur).slice(2).join(ur):is(t)?t.slice(os.length):t}function gc(t){let{baseUrl:e,workspace:r="default",tool:n="default",id:o,type:i,path:s,projectId:a,dataset:c}=t;if(!e)throw new Error("baseUrl is required");if(!s)throw new Error("path is required");if(!o)throw new Error("id is required");if(e!=="/"&&e.endsWith("/"))throw new Error("baseUrl must not end with a slash");let u=r==="default"?void 0:r,p=n==="default"?void 0:n,d=vc(o),x=Array.isArray(s)?ts(rs(s)):s,l=new URLSearchParams({baseUrl:e,id:d,type:i,path:x});if(u&&l.set("workspace",u),p&&l.set("tool",p),a&&l.set("projectId",a),c&&l.set("dataset",c),mc(o))l.set("perspective","published");else if(rn(o)){let I=yc(o);l.set("perspective",I)}let b=[e==="/"?"":e];u&&b.push(u);let h=["mode=presentation",`id=${d}`,`type=${i}`,`path=${encodeURIComponent(x)}`];return p&&h.push(`tool=${p}`),b.push("intent","edit",`${h.join(";")}?${l}`),b.join("/")}function bc(t){let e=typeof t=="string"?t:t.baseUrl;return e!=="/"&&(e=e.replace(/\/$/,"")),typeof t=="string"?{baseUrl:e}:{...t,baseUrl:e}}function xc(t){return/^\d{4}-\d{2}-\d{2}/.test(t)?!!Date.parse(t):!1}function Ec(t){try{let{protocol:e}=new URL(t,t.startsWith("/")?"https://acme.com":void 0);return _c.has(e)||e.startsWith("web+")}catch{return!1}}function Ki(t){return t.some(e=>typeof e=="string"&&e.match(/type/i)!==null)}function ss(t,e,r){let{filter:n,logger:o,enabled:i}=r;if(!i){let c="config.enabled must be true, don't call this function otherwise";throw o?.error?.(`[@sanity/client]: ${c}`,{result:t,resultSourceMap:e,config:r}),new TypeError(c)}if(!e)return o?.error?.("[@sanity/client]: Missing Content Source Map from response body",{result:t,resultSourceMap:e,config:r}),t;if(!r.studioUrl){let c="config.studioUrl must be defined";throw o?.error?.(`[@sanity/client]: ${c}`,{result:t,resultSourceMap:e,config:r}),new TypeError(c)}let s={encoded:[],skipped:[]},a=ns(t,e,({sourcePath:c,sourceDocument:u,resultPath:p,value:d})=>{if((typeof n=="function"?n({sourcePath:c,resultPath:p,filterDefault:Yi,sourceDocument:u,value:d}):Yi({sourcePath:c,resultPath:p,value:d}))===!1)return o&&s.skipped.push({path:Zi(c),value:`${d.slice(0,tn)}${d.length>tn?"...":""}`,length:d.length}),d;o&&s.encoded.push({path:Zi(c),value:`${d.slice(0,tn)}${d.length>tn?"...":""}`,length:d.length});let{baseUrl:x,workspace:l,tool:b}=bc(typeof r.studioUrl=="function"?r.studioUrl(u):r.studioUrl);if(!x)return d;let{_id:h,_type:I,_projectId:O,_dataset:T}=u;return Vi(d,{origin:"sanity.io",href:gc({baseUrl:x,workspace:l,tool:b,id:h,type:I,path:c,...!r.omitCrossDatasetReferenceData&&{dataset:T,projectId:O}})},!1)});if(o){let c=s.skipped.length,u=s.encoded.length;if((c||u)&&((o?.groupCollapsed||o.log)?.("[@sanity/client]: Encoding source map into result"),o.log?.(`[@sanity/client]: Paths encoded: ${s.encoded.length}, skipped: ${s.skipped.length}`)),s.encoded.length>0&&(o?.log?.("[@sanity/client]: Table of encoded paths"),(o?.table||o.log)?.(s.encoded)),s.skipped.length>0){let p=new Set;for(let{path:d}of s.skipped)p.add(d.replace(es,"0").replace(/\[\d+\]/g,"[]"));o?.log?.("[@sanity/client]: List of skipped paths",[...p.values()])}(c||u)&&o?.groupEnd?.()}return a}function Zi(t){return ts(rs(t))}var es,Ji,Xi,pc,dc,ur,os,hc,Yi,wc,_c,tn,Sc,cs=$o(()=>{Gn();es=/_key\s*==\s*['"](.*)['"]/;Ji={"\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","'":"\\'","\\":"\\\\"},Xi={"\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	","\\'":"'","\\\\":"\\"};pc="drafts",dc="versions",ur=".",os=`${pc}${ur}`,hc=`${dc}${ur}`;Yi=({sourcePath:t,resultPath:e,value:r})=>{if(xc(r)||Ec(r))return!1;let n=t.at(-1);return!(t.at(-2)==="slug"&&n==="current"||typeof n=="string"&&(n.startsWith("_")||n.endsWith("Id"))||t.some(o=>o==="meta"||o==="metadata"||o==="openGraph"||o==="seo")||Ki(t)||Ki(e)||typeof n=="string"&&wc.has(n))},wc=new Set(["color","colour","currency","email","format","gid","hex","href","hsl","hsla","icon","id","index","key","language","layout","link","linkAction","locale","lqip","page","path","ref","rgb","rgba","route","secret","slug","status","tag","template","theme","type","textTheme","unit","url","username","variant","website"]);_c=new Set(["app:","data:","discord:","file:","ftp:","ftps:","geo:","http:","https:","imap:","javascript:","magnet:","mailto:","maps:","ms-excel:","ms-powerpoint:","ms-word:","slack:","sms:","spotify:","steam:","teams:","tel:","vscode:","zoom:"]);tn=20;Sc=Object.freeze({__proto__:null,stegaEncodeSourceMap:ss})});var us=En((Jn,nn)=>{(function(t){"use strict";var e=t.setTimeout,r=t.clearTimeout,n=t.XMLHttpRequest,o=t.XDomainRequest,i=t.ActiveXObject,s=t.EventSource,a=t.document,c=t.Promise,u=t.fetch,p=t.Response,d=t.TextDecoder,x=t.TextEncoder,l=t.AbortController;if(typeof window<"u"&&typeof a<"u"&&!("readyState"in a)&&a.body==null&&(a.readyState="loading",window.addEventListener("load",function(m){a.readyState="complete"},!1)),n==null&&i!=null&&(n=function(){return new i("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(m){function E(){}return E.prototype=m,new E}),Date.now||(Date.now=function(){return new Date().getTime()}),l==null){var b=u;u=function(m,E){var S=E.signal;return b(m,{headers:E.headers,credentials:E.credentials,cache:E.cache}).then(function(_){var P=_.body.getReader();return S._reader=P,S._aborted&&S._reader.cancel(),{status:_.status,statusText:_.statusText,headers:_.headers,body:{getReader:function(){return P}}}})},l=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function h(){this.bitsNeeded=0,this.codePoint=0}h.prototype.decode=function(m){function E(H,G,$){if($===1)return H>=128>>G&&H<<G<=2047;if($===2)return H>=2048>>G&&H<<G<=55295||H>=57344>>G&&H<<G<=65535;if($===3)return H>=65536>>G&&H<<G<=1114111;throw new Error}function S(H,G){if(H===6)return G>>6>15?3:G>31?2:1;if(H===12)return G>15?3:2;if(H===18)return 3;throw new Error}for(var _=65533,P="",j=this.bitsNeeded,L=this.codePoint,Q=0;Q<m.length;Q+=1){var U=m[Q];j!==0&&(U<128||U>191||!E(L<<6|U&63,j-6,S(j,L)))&&(j=0,L=_,P+=String.fromCharCode(L)),j===0?(U>=0&&U<=127?(j=0,L=U):U>=192&&U<=223?(j=6,L=U&31):U>=224&&U<=239?(j=12,L=U&15):U>=240&&U<=247?(j=18,L=U&7):(j=0,L=_),j!==0&&!E(L,j,S(j,L))&&(j=0,L=_)):(j-=6,L=L<<6|U&63),j===0&&(L<=65535?P+=String.fromCharCode(L):(P+=String.fromCharCode(55296+(L-65535-1>>10)),P+=String.fromCharCode(56320+(L-65535-1&1023))))}return this.bitsNeeded=j,this.codePoint=L,P};var I=function(){try{return new d().decode(new x().encode("test"),{stream:!0})==="test"}catch(m){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+m)}return!1};(d==null||x==null||!I())&&(d=h);var O=function(){};function T(m){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=O,this.onload=O,this.onerror=O,this.onreadystatechange=O,this._contentType="",this._xhr=m,this._sendTimeout=0,this._abort=O}T.prototype.open=function(m,E){this._abort(!0);var S=this,_=this._xhr,P=1,j=0;this._abort=function($){S._sendTimeout!==0&&(r(S._sendTimeout),S._sendTimeout=0),(P===1||P===2||P===3)&&(P=4,_.onload=O,_.onerror=O,_.onabort=O,_.onprogress=O,_.onreadystatechange=O,_.abort(),j!==0&&(r(j),j=0),$||(S.readyState=4,S.onabort(null),S.onreadystatechange())),P=0};var L=function(){if(P===1){var $=0,Y="",De=void 0;if("contentType"in _)$=200,Y="OK",De=_.contentType;else try{$=_.status,Y=_.statusText,De=_.getResponseHeader("Content-Type")}catch{$=0,Y="",De=void 0}$!==0&&(P=2,S.readyState=2,S.status=$,S.statusText=Y,S._contentType=De,S.onreadystatechange())}},Q=function(){if(L(),P===2||P===3){P=3;var $="";try{$=_.responseText}catch{}S.readyState=3,S.responseText=$,S.onprogress()}},U=function($,Y){if((Y==null||Y.preventDefault==null)&&(Y={preventDefault:O}),Q(),P===1||P===2||P===3){if(P=4,j!==0&&(r(j),j=0),S.readyState=4,$==="load")S.onload(Y);else if($==="error")S.onerror(Y);else if($==="abort")S.onabort(Y);else throw new TypeError;S.onreadystatechange()}},H=function($){_!=null&&(_.readyState===4?(!("onload"in _)||!("onerror"in _)||!("onabort"in _))&&U(_.responseText===""?"error":"load",$):_.readyState===3?"onprogress"in _||Q():_.readyState===2&&L())},G=function(){j=e(function(){G()},500),_.readyState===3&&Q()};"onload"in _&&(_.onload=function($){U("load",$)}),"onerror"in _&&(_.onerror=function($){U("error",$)}),"onabort"in _&&(_.onabort=function($){U("abort",$)}),"onprogress"in _&&(_.onprogress=Q),"onreadystatechange"in _&&(_.onreadystatechange=function($){H($)}),("contentType"in _||!("ontimeout"in n.prototype))&&(E+=(E.indexOf("?")===-1?"?":"&")+"padding=true"),_.open(m,E,!0),"readyState"in _&&(j=e(function(){G()},0))},T.prototype.abort=function(){this._abort(!1)},T.prototype.getResponseHeader=function(m){return this._contentType},T.prototype.setRequestHeader=function(m,E){var S=this._xhr;"setRequestHeader"in S&&S.setRequestHeader(m,E)},T.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},T.prototype.send=function(){if((!("ontimeout"in n.prototype)||!("sendAsBinary"in n.prototype)&&!("mozAnon"in n.prototype))&&a!=null&&a.readyState!=null&&a.readyState!=="complete"){var m=this;m._sendTimeout=e(function(){m._sendTimeout=0,m.send()},4);return}var E=this._xhr;"withCredentials"in E&&(E.withCredentials=this.withCredentials);try{E.send(void 0)}catch(S){throw S}};function R(m){return m.replace(/[A-Z]/g,function(E){return String.fromCharCode(E.charCodeAt(0)+32)})}function V(m){for(var E=Object.create(null),S=m.split(`\r
`),_=0;_<S.length;_+=1){var P=S[_],j=P.split(": "),L=j.shift(),Q=j.join(": ");E[R(L)]=Q}this._map=E}V.prototype.get=function(m){return this._map[R(m)]},n!=null&&n.HEADERS_RECEIVED==null&&(n.HEADERS_RECEIVED=2);function J(){}J.prototype.open=function(m,E,S,_,P,j,L){m.open("GET",P);var Q=0;m.onprogress=function(){var H=m.responseText,G=H.slice(Q);Q+=G.length,S(G)},m.onerror=function(H){H.preventDefault(),_(new Error("NetworkError"))},m.onload=function(){_(null)},m.onabort=function(){_(null)},m.onreadystatechange=function(){if(m.readyState===n.HEADERS_RECEIVED){var H=m.status,G=m.statusText,$=m.getResponseHeader("Content-Type"),Y=m.getAllResponseHeaders();E(H,G,$,new V(Y))}},m.withCredentials=j;for(var U in L)Object.prototype.hasOwnProperty.call(L,U)&&m.setRequestHeader(U,L[U]);return m.send(),m};function re(m){this._headers=m}re.prototype.get=function(m){return this._headers.get(m)};function _t(){}_t.prototype.open=function(m,E,S,_,P,j,L){var Q=null,U=new l,H=U.signal,G=new d;return u(P,{headers:L,credentials:j?"include":"same-origin",signal:H,cache:"no-store"}).then(function($){return Q=$.body.getReader(),E($.status,$.statusText,$.headers.get("Content-Type"),new re($.headers)),new c(function(Y,De){var zt=function(){Q.read().then(function(_e){if(_e.done)Y(void 0);else{var de=G.decode(_e.value,{stream:!0});S(de),zt()}}).catch(function(_e){De(_e)})};zt()})}).catch(function($){if($.name!=="AbortError")return $}).then(function($){_($)}),{abort:function(){Q?.cancel(),U.abort()}}};function Ae(){this._listeners=Object.create(null)}function y(m){e(function(){throw m},0)}Ae.prototype.dispatchEvent=function(m){m.target=this;var E=this._listeners[m.type];if(E!=null)for(var S=E.length,_=0;_<S;_+=1){var P=E[_];try{typeof P.handleEvent=="function"?P.handleEvent(m):P.call(this,m)}catch(j){y(j)}}},Ae.prototype.addEventListener=function(m,E){m=String(m);var S=this._listeners,_=S[m];_==null&&(_=[],S[m]=_);for(var P=!1,j=0;j<_.length;j+=1)_[j]===E&&(P=!0);P||_.push(E)},Ae.prototype.removeEventListener=function(m,E){m=String(m);var S=this._listeners,_=S[m];if(_!=null){for(var P=[],j=0;j<_.length;j+=1)_[j]!==E&&P.push(_[j]);P.length===0?delete S[m]:S[m]=P}};function g(m){this.type=m,this.target=void 0}function w(m,E){g.call(this,m),this.data=E.data,this.lastEventId=E.lastEventId}w.prototype=Object.create(g.prototype);function v(m,E){g.call(this,m),this.status=E.status,this.statusText=E.statusText,this.headers=E.headers}v.prototype=Object.create(g.prototype);function W(m,E){g.call(this,m),this.error=E.error}W.prototype=Object.create(g.prototype);var A=-1,D=0,Z=1,ce=2,ue=-1,X=0,ke=1,qe=2,Ce=3,ut=/^text\/event\-stream(;.*)?$/i,Te=1e3,wn=18e6,Ht=function(m,E){var S=m==null?E:parseInt(m,10);return S!==S&&(S=E),Me(S)},Me=function(m){return Math.min(Math.max(m,Te),wn)},Et=function(m,E,S){try{typeof E=="function"&&E.call(m,S)}catch(_){y(_)}};function je(m,E){Ae.call(this),E=E||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,pa(this,m,E)}function fa(){return n!=null&&"withCredentials"in n.prototype||o==null?new n:new o}var la=u!=null&&p!=null&&"body"in p.prototype;function pa(m,E,S){E=String(E);var _=!!S.withCredentials,P=S.lastEventIdQueryParameterName||"lastEventId",j=Me(1e3),L=Ht(S.heartbeatTimeout,45e3),Q="",U=j,H=!1,G=0,$=S.headers||{},Y=S.Transport,De=la&&Y==null?void 0:new T(Y!=null?new Y:fa()),zt=Y!=null&&typeof Y!="string"?new Y:De==null?new _t:new J,_e=void 0,de=0,Re=A,St="",Er="",Le="",Sr="",he=X,xn=0,ft=0,da=function(ie,ne,Ee,Se){if(Re===D)if(ie===200&&Ee!=null&&ut.test(Ee)){Re=Z,H=Date.now(),U=j,m.readyState=Z;var me=new v("open",{status:ie,statusText:ne,headers:Se});m.dispatchEvent(me),Et(m,m.onopen,me)}else{var fe="";ie!==200?(ne&&(ne=ne.replace(/\s+/g," ")),fe="EventSource's response has a status "+ie+" "+ne+" that is not 200. Aborting the connection."):fe="EventSource's response has a Content-Type specifying an unsupported type: "+(Ee==null?"-":Ee.replace(/\s+/g," "))+". Aborting the connection.",_n();var me=new v("error",{status:ie,statusText:ne,headers:Se});m.dispatchEvent(me),Et(m,m.onerror,me),console.error(fe)}},ha=function(ie){if(Re===Z){for(var ne=-1,Ee=0;Ee<ie.length;Ee+=1){var Se=ie.charCodeAt(Ee);(Se===10||Se===13)&&(ne=Ee)}var me=(ne!==-1?Sr:"")+ie.slice(0,ne+1);Sr=(ne===-1?Sr:"")+ie.slice(ne+1),ie!==""&&(H=Date.now(),G+=ie.length);for(var fe=0;fe<me.length;fe+=1){var Se=me.charCodeAt(fe);if(he===ue&&Se===10)he=X;else if(he===ue&&(he=X),Se===13||Se===10){if(he!==X){he===ke&&(ft=fe+1);var Ue=me.slice(xn,ft-1),Ne=me.slice(ft+(ft<fe&&me.charCodeAt(ft)===32?1:0),fe);Ue==="data"?(St+=`
`,St+=Ne):Ue==="id"?Er=Ne:Ue==="event"?Le=Ne:Ue==="retry"?(j=Ht(Ne,j),U=j):Ue==="heartbeatTimeout"&&(L=Ht(Ne,L),de!==0&&(r(de),de=e(function(){Bt()},L)))}if(he===X){if(St!==""){Q=Er,Le===""&&(Le="message");var Ct=new w(Le,{data:St.slice(1),lastEventId:Er});if(m.dispatchEvent(Ct),Le==="open"?Et(m,m.onopen,Ct):Le==="message"?Et(m,m.onmessage,Ct):Le==="error"&&Et(m,m.onerror,Ct),Re===ce)return}St="",Le=""}he=Se===13?ue:X}else he===X&&(xn=fe,he=ke),he===ke?Se===58&&(ft=fe+1,he=qe):he===qe&&(he=Ce)}}},Ro=function(ie){if(Re===Z||Re===D){Re=A,de!==0&&(r(de),de=0),de=e(function(){Bt()},U),U=Me(Math.min(j*16,U*2)),m.readyState=D;var ne=new W("error",{error:ie});m.dispatchEvent(ne),Et(m,m.onerror,ne),ie!=null&&console.error(ie)}},_n=function(){Re=ce,_e!=null&&(_e.abort(),_e=void 0),de!==0&&(r(de),de=0),m.readyState=ce},Bt=function(){if(de=0,Re!==A){if(!H&&_e!=null)Ro(new Error("No activity within "+L+" milliseconds. "+(Re===D?"No response received.":G+" chars received.")+" Reconnecting.")),_e!=null&&(_e.abort(),_e=void 0);else{var ie=Math.max((H||Date.now())+L-Date.now(),1);H=!1,de=e(function(){Bt()},ie)}return}H=!1,G=0,de=e(function(){Bt()},L),Re=D,St="",Le="",Er=Q,Sr="",xn=0,ft=0,he=X;var ne=E;if(E.slice(0,5)!=="data:"&&E.slice(0,5)!=="blob:"&&Q!==""){var Ee=E.indexOf("?");ne=Ee===-1?E:E.slice(0,Ee+1)+E.slice(Ee+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(Ne,Ct){return Ct===P?"":Ne}),ne+=(E.indexOf("?")===-1?"?":"&")+P+"="+encodeURIComponent(Q)}var Se=m.withCredentials,me={};me.Accept="text/event-stream";var fe=m.headers;if(fe!=null)for(var Ue in fe)Object.prototype.hasOwnProperty.call(fe,Ue)&&(me[Ue]=fe[Ue]);try{_e=zt.open(De,da,ha,Ro,ne,Se,me)}catch(Ne){throw _n(),Ne}};m.url=E,m.readyState=D,m.withCredentials=_,m.headers=$,m._close=_n,Bt()}je.prototype=Object.create(Ae.prototype),je.prototype.CONNECTING=D,je.prototype.OPEN=Z,je.prototype.CLOSED=ce,je.prototype.close=function(){this._close()},je.CONNECTING=D,je.OPEN=Z,je.CLOSED=ce,je.prototype.withCredentials=void 0;var jo=s;n!=null&&(s==null||!("withCredentials"in s.prototype))&&(jo=je),(function(m){if(typeof nn=="object"&&typeof nn.exports=="object"){var E=m(Jn);E!==void 0&&(nn.exports=E)}else typeof define=="function"&&define.amd?define(["exports"],m):m(t)})(function(m){m.EventSourcePolyfill=je,m.NativeEventSource=s,m.EventSource=jo})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:Jn:globalThis)});var ls=En((jm,fs)=>{fs.exports=us().EventSourcePolyfill});var ta=En((Oo,Ao)=>{(function(t,e){typeof Oo=="object"&&typeof Ao<"u"?Ao.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.SanityImageUrlBuilder=e())})(Oo,(function(){function t(){return t=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var w=arguments[g];for(var v in w)Object.prototype.hasOwnProperty.call(w,v)&&(y[v]=w[v])}return y},t.apply(this,arguments)}function e(y,g){if(y){if(typeof y=="string")return r(y,g);var w=Object.prototype.toString.call(y).slice(8,-1);if(w==="Object"&&y.constructor&&(w=y.constructor.name),w==="Map"||w==="Set")return Array.from(y);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return r(y,g)}}function r(y,g){(g==null||g>y.length)&&(g=y.length);for(var w=0,v=new Array(g);w<g;w++)v[w]=y[w];return v}function n(y,g){var w=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(w)return(w=w.call(y)).next.bind(w);if(Array.isArray(y)||(w=e(y))||g&&y&&typeof y.length=="number"){w&&(y=w);var v=0;return function(){return v>=y.length?{done:!0}:{done:!1,value:y[v++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function i(y){var g=y.split("-"),w=g[1],v=g[2],W=g[3];if(!w||!v||!W)throw new Error("Malformed asset _ref '"+y+`'. Expected an id like "`+o+'".');var A=v.split("x"),D=A[0],Z=A[1],ce=+D,ue=+Z,X=isFinite(ce)&&isFinite(ue);if(!X)throw new Error("Malformed asset _ref '"+y+`'. Expected an id like "`+o+'".');return{id:w,width:ce,height:ue,format:W}}var s=function(g){var w=g;return w?typeof w._ref=="string":!1},a=function(g){var w=g;return w?typeof w._id=="string":!1},c=function(g){var w=g;return w&&w.asset?typeof w.asset.url=="string":!1};function u(y){if(!y)return null;var g;if(typeof y=="string"&&p(y))g={asset:{_ref:d(y)}};else if(typeof y=="string")g={asset:{_ref:y}};else if(s(y))g={asset:y};else if(a(y))g={asset:{_ref:y._id||""}};else if(c(y))g={asset:{_ref:d(y.asset.url)}};else if(typeof y.asset=="object")g=t({},y);else return null;var w=y;return w.crop&&(g.crop=w.crop),w.hotspot&&(g.hotspot=w.hotspot),x(g)}function p(y){return/^https?:\/\//.test(""+y)}function d(y){var g=y.split("/").slice(-1);return("image-"+g[0]).replace(/\.([a-z]+)$/,"-$1")}function x(y){if(y.crop&&y.hotspot)return y;var g=t({},y);return g.crop||(g.crop={left:0,top:0,bottom:0,right:0}),g.hotspot||(g.hotspot={x:.5,y:.5,height:1,width:1}),g}var l=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function b(y){var g=t({},y||{}),w=g.source;delete g.source;var v=u(w);if(!v)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(w)+")");var W=v.asset._ref||v.asset._id||"",A=i(W),D=Math.round(v.crop.left*A.width),Z=Math.round(v.crop.top*A.height),ce={left:D,top:Z,width:Math.round(A.width-v.crop.right*A.width-D),height:Math.round(A.height-v.crop.bottom*A.height-Z)},ue=v.hotspot.height*A.height/2,X=v.hotspot.width*A.width/2,ke=v.hotspot.x*A.width,qe=v.hotspot.y*A.height,Ce={left:ke-X,top:qe-ue,right:ke+X,bottom:qe+ue};return g.rect||g.focalPoint||g.ignoreImageParams||g.crop||(g=t({},g,I({crop:ce,hotspot:Ce},g))),h(t({},g,{asset:A}))}function h(y){var g=(y.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),w=y.vanityName?"/"+y.vanityName:"",v=y.asset.id+"-"+y.asset.width+"x"+y.asset.height+"."+y.asset.format+w,W=g+"/images/"+y.projectId+"/"+y.dataset+"/"+v,A=[];if(y.rect){var D=y.rect,Z=D.left,ce=D.top,ue=D.width,X=D.height,ke=Z!==0||ce!==0||X!==y.asset.height||ue!==y.asset.width;ke&&A.push("rect="+Z+","+ce+","+ue+","+X)}y.bg&&A.push("bg="+y.bg),y.focalPoint&&(A.push("fp-x="+y.focalPoint.x),A.push("fp-y="+y.focalPoint.y));var qe=[y.flipHorizontal&&"h",y.flipVertical&&"v"].filter(Boolean).join("");return qe&&A.push("flip="+qe),l.forEach(function(Ce){var ut=Ce[0],Te=Ce[1];typeof y[ut]<"u"?A.push(Te+"="+encodeURIComponent(y[ut])):typeof y[Te]<"u"&&A.push(Te+"="+encodeURIComponent(y[Te]))}),A.length===0?W:W+"?"+A.join("&")}function I(y,g){var w,v=g.width,W=g.height;if(!(v&&W))return{width:v,height:W,rect:y.crop};var A=y.crop,D=y.hotspot,Z=v/W,ce=A.width/A.height;if(ce>Z){var ue=Math.round(A.height),X=Math.round(ue*Z),ke=Math.max(0,Math.round(A.top)),qe=Math.round((D.right-D.left)/2+D.left),Ce=Math.max(0,Math.round(qe-X/2));Ce<A.left?Ce=A.left:Ce+X>A.left+A.width&&(Ce=A.left+A.width-X),w={left:Ce,top:ke,width:X,height:ue}}else{var ut=A.width,Te=Math.round(ut/Z),wn=Math.max(0,Math.round(A.left)),Ht=Math.round((D.bottom-D.top)/2+D.top),Me=Math.max(0,Math.round(Ht-Te/2));Me<A.top?Me=A.top:Me+Te>A.top+A.height&&(Me=A.top+A.height-Te),w={left:wn,top:Me,width:ut,height:Te}}return{width:v,height:W,rect:w}}var O=["clip","crop","fill","fillmax","max","scale","min"],T=["top","bottom","left","right","center","focalpoint","entropy"],R=["format"];function V(y){return y&&"config"in y?typeof y.config=="function":!1}function J(y){return y&&"clientConfig"in y?typeof y.clientConfig=="object":!1}function re(y){for(var g=l,w=n(g),v;!(v=w()).done;){var W=v.value,A=W[0],D=W[1];if(y===A||y===D)return A}return y}function _t(y){if(V(y)){var g=y.config(),w=g.apiHost,v=g.projectId,W=g.dataset,A=w||"https://api.sanity.io";return new Ae(null,{baseUrl:A.replace(/^https:\/\/api\./,"https://cdn."),projectId:v,dataset:W})}if(J(y)){var D=y.clientConfig,Z=D.apiHost,ce=D.projectId,ue=D.dataset,X=Z||"https://api.sanity.io";return new Ae(null,{baseUrl:X.replace(/^https:\/\/api\./,"https://cdn."),projectId:ce,dataset:ue})}return new Ae(null,y||{})}var Ae=(function(){function y(w,v){this.options=void 0,this.options=w?t({},w.options||{},v||{}):t({},v||{})}var g=y.prototype;return g.withOptions=function(v){var W=v.baseUrl||this.options.baseUrl,A={baseUrl:W};for(var D in v)if(v.hasOwnProperty(D)){var Z=re(D);A[Z]=v[D]}return new y(this,t({baseUrl:W},A))},g.image=function(v){return this.withOptions({source:v})},g.dataset=function(v){return this.withOptions({dataset:v})},g.projectId=function(v){return this.withOptions({projectId:v})},g.bg=function(v){return this.withOptions({bg:v})},g.dpr=function(v){return this.withOptions(v&&v!==1?{dpr:v}:{})},g.width=function(v){return this.withOptions({width:v})},g.height=function(v){return this.withOptions({height:v})},g.focalPoint=function(v,W){return this.withOptions({focalPoint:{x:v,y:W}})},g.maxWidth=function(v){return this.withOptions({maxWidth:v})},g.minWidth=function(v){return this.withOptions({minWidth:v})},g.maxHeight=function(v){return this.withOptions({maxHeight:v})},g.minHeight=function(v){return this.withOptions({minHeight:v})},g.size=function(v,W){return this.withOptions({width:v,height:W})},g.blur=function(v){return this.withOptions({blur:v})},g.sharpen=function(v){return this.withOptions({sharpen:v})},g.rect=function(v,W,A,D){return this.withOptions({rect:{left:v,top:W,width:A,height:D}})},g.format=function(v){return this.withOptions({format:v})},g.invert=function(v){return this.withOptions({invert:v})},g.orientation=function(v){return this.withOptions({orientation:v})},g.quality=function(v){return this.withOptions({quality:v})},g.forceDownload=function(v){return this.withOptions({download:v})},g.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},g.flipVertical=function(){return this.withOptions({flipVertical:!0})},g.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},g.fit=function(v){if(O.indexOf(v)===-1)throw new Error('Invalid fit mode "'+v+'"');return this.withOptions({fit:v})},g.crop=function(v){if(T.indexOf(v)===-1)throw new Error('Invalid crop mode "'+v+'"');return this.withOptions({crop:v})},g.saturation=function(v){return this.withOptions({saturation:v})},g.auto=function(v){if(R.indexOf(v)===-1)throw new Error('Invalid auto mode "'+v+'"');return this.withOptions({auto:v})},g.pad=function(v){return this.withOptions({pad:v})},g.vanityName=function(v){return this.withOptions({vanityName:v})},g.frame=function(v){if(v!==1)throw new Error('Invalid frame value "'+v+'"');return this.withOptions({frame:v})},g.url=function(){return b(this.options)},g.toString=function(){return this.url()},y})();return _t}))});var Mu={};ko(Mu,{getHomeSections:()=>oa,getPrinciples:()=>ia,getServicePackage:()=>aa,getServicePackages:()=>sa,initSanityContent:()=>To,loadHomepageContent:()=>ca,loadServiceDetailContent:()=>bn,loadWorkWithMeContent:()=>ua,urlFor:()=>na});var Lo=!(typeof navigator>"u")&&navigator.product==="ReactNative",Uo={timeout:Lo?6e4:12e4},No=function(t){let e={...Uo,...typeof t=="string"?{url:t}:t};if(e.timeout=Vo(e.timeout),e.query){let{url:r,searchParams:n}=(function(o){let i=o.indexOf("?");if(i===-1)return{url:o,searchParams:new URLSearchParams};let s=o.slice(0,i),a=o.slice(i+1);if(!Lo)return{url:s,searchParams:new URLSearchParams(a)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");let c=new URLSearchParams;for(let u of a.split("&")){let[p,d]=u.split("=");p&&c.append(Do(p),Do(d||""))}return{url:s,searchParams:c}})(e.url);for(let[o,i]of Object.entries(e.query)){if(i!==void 0)if(Array.isArray(i))for(let a of i)n.append(o,a);else n.append(o,i);let s=n.toString();s&&(e.url=`${r}?${s}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function Do(t){return decodeURIComponent(t.replace(/\+/g," "))}function Vo(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;let e=Number(t);return isNaN(e)?Vo(Uo.timeout):{connect:e,socket:e}}var _a=/^https?:\/\//i,Wo=function(t){if(!_a.test(t.url))throw new Error(`"${t.url}" is not a valid URL`)};function Cr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ea=["request","response","progress","error","abort"],Ho=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function Go(t,e){let r=[],n=Ho.reduce((i,s)=>(i[s]=i[s]||[],i),{processOptions:[No],validateOptions:[Wo]});function o(i){let s=Ea.reduce((l,b)=>(l[b]=(function(){let h=Object.create(null),I=0;return{publish:function(O){for(let T in h)h[T](O)},subscribe:function(O){let T=I++;return h[T]=O,function(){delete h[T]}}}})(),l),{}),a=(l=>function(b,h,...I){let O=b==="onError",T=h;for(let R=0;R<l[b].length&&(T=(0,l[b][R])(T,...I),!O||T);R++);return T})(n),c=a("processOptions",i);a("validateOptions",c);let u={options:c,channels:s,applyMiddleware:a},p,d=s.request.subscribe(l=>{p=e(l,(b,h)=>((I,O,T)=>{let R=I,V=O;if(!R)try{V=a("onResponse",O,T)}catch(J){V=null,R=J}R=R&&a("onError",R,T),R?s.error.publish(R):V&&s.response.publish(V)})(b,h,l))});s.abort.subscribe(()=>{d(),p&&p.abort()});let x=a("onReturn",s,u);return x===s&&s.request.publish(u),x}return o.use=function(i){if(!i)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof i=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(i.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return Ho.forEach(s=>{i[s]&&n[s].push(i[s])}),r.push(i),o},o.clone=()=>Go(r,e),t.forEach(o.use),o}var zo,Bo,Sa=Cr((function(){if(Bo)return zo;Bo=1;var t=function(r){return r.replace(/^\s+|\s+$/g,"")},e=function(r){return Object.prototype.toString.call(r)==="[object Array]"};return zo=function(r){if(!r)return{};for(var n=Object.create(null),o=t(r).split(`
`),i=0;i<o.length;i++){var s=o[i],a=s.indexOf(":"),c=t(s.slice(0,a)).toLowerCase(),u=t(s.slice(a+1));typeof n[c]>"u"?n[c]=u:e(n[c])?n[c].push(u):n[c]=[n[c],u]}return n}})()),Xt,Qt,It,Yt,Ve,Kt,Zt,Jt=class{constructor(){C(this,"onabort");C(this,"onerror");C(this,"onreadystatechange");C(this,"ontimeout");C(this,"readyState",0);C(this,"response");C(this,"responseText","");C(this,"responseType","");C(this,"status");C(this,"statusText");C(this,"withCredentials");q(this,Xt);q(this,Qt);q(this,It);q(this,Yt,{});q(this,Ve);q(this,Kt,{});q(this,Zt)}open(e,r,n){k(this,Xt,e),k(this,Qt,r),k(this,It,""),this.readyState=1,this.onreadystatechange?.(),k(this,Ve,void 0)}abort(){f(this,Ve)&&f(this,Ve).abort()}getAllResponseHeaders(){return f(this,It)}setRequestHeader(e,r){f(this,Yt)[e]=r}setInit(e,r=!0){k(this,Kt,e),k(this,Zt,r)}send(e){let r=this.responseType!=="arraybuffer",n={...f(this,Kt),method:f(this,Xt),headers:f(this,Yt),body:e};typeof AbortController=="function"&&f(this,Zt)&&(k(this,Ve,new AbortController),typeof EventTarget<"u"&&f(this,Ve).signal instanceof EventTarget&&(n.signal=f(this,Ve).signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(f(this,Qt),n).then(o=>(o.headers.forEach((i,s)=>{k(this,It,f(this,It)+`${s}: ${i}\r
`)}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,this.onreadystatechange?.(),r?o.text():o.arrayBuffer())).then(o=>{typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,this.onreadystatechange?.()}).catch(o=>{o.name!=="AbortError"?this.onerror?.(o):this.onabort?.()})}};Xt=new WeakMap,Qt=new WeakMap,It=new WeakMap,Yt=new WeakMap,Ve=new WeakMap,Kt=new WeakMap,Zt=new WeakMap;var Sn=typeof XMLHttpRequest=="function"?"xhr":"fetch",Ca=Sn==="xhr"?XMLHttpRequest:Jt,Ia=(t,e)=>{let r=t.options,n=t.applyMiddleware("finalizeOptions",r),o={},i=t.applyMiddleware("interceptRequest",void 0,{adapter:Sn,context:t});if(i){let h=setTimeout(e,0,null,i);return{abort:()=>clearTimeout(h)}}let s=new Ca;s instanceof Jt&&typeof n.fetch=="object"&&s.setInit(n.fetch,n.useAbortSignal??!0);let a=n.headers,c=n.timeout,u=!1,p=!1,d=!1;if(s.onerror=h=>{b(s instanceof Jt?h instanceof Error?h:new Error(`Request error while attempting to reach is ${n.url}`,{cause:h}):new Error(`Request error while attempting to reach is ${n.url}${h.lengthComputable?`(${h.loaded} of ${h.total} bytes transferred)`:""}`))},s.ontimeout=h=>{b(new Error(`Request timeout while attempting to reach ${n.url}${h.lengthComputable?`(${h.loaded} of ${h.total} bytes transferred)`:""}`))},s.onabort=()=>{l(!0),u=!0},s.onreadystatechange=function(){c&&(l(),o.socket=setTimeout(()=>x("ESOCKETTIMEDOUT"),c.socket)),!u&&s&&s.readyState===4&&s.status!==0&&(function(){if(!(u||p||d)){if(s.status===0)return void b(new Error("Unknown XHR error"));l(),p=!0,e(null,{body:s.response||(s.responseType===""||s.responseType==="text"?s.responseText:""),url:n.url,method:n.method,headers:Sa(s.getAllResponseHeaders()),statusCode:s.status,statusMessage:s.statusText})}})()},s.open(n.method,n.url,!0),s.withCredentials=!!n.withCredentials,a&&s.setRequestHeader)for(let h in a)a.hasOwnProperty(h)&&s.setRequestHeader(h,a[h]);return n.rawBody&&(s.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:n,adapter:Sn,request:s,context:t}),s.send(n.body||null),c&&(o.connect=setTimeout(()=>x("ETIMEDOUT"),c.connect)),{abort:function(){u=!0,s&&s.abort()}};function x(h){d=!0,s.abort();let I=new Error(h==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${n.url}`:`Connection timed out on request to ${n.url}`);I.code=h,t.channels.error.publish(I)}function l(h){(h||u||s&&s.readyState>=2&&o.connect)&&clearTimeout(o.connect),o.socket&&clearTimeout(o.socket)}function b(h){if(p)return;l(!0),p=!0,s=null;let I=h||new Error(`Network error while attempting to reach ${n.url}`);I.isNetworkError=!0,I.request=n,e(I)}},Jo=(t=[],e=Ia)=>Go(t,e);function Oa(t){return{}}var Xo,Qo,Yo,Ko,Zo,Cn={exports:{}},Hu=Cr((Zo||(Zo=1,(function(t,e){e.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let o="color: "+this.color;n.splice(1,0,o,"color: inherit");let i=0,s=0;n[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(i++,a==="%c"&&(s=i))}),n.splice(s,0,o)},e.save=function(n){try{n?e.storage.setItem("debug",n):e.storage.removeItem("debug")}catch{}},e.load=function(){let n;try{n=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=process.env.DEBUG),n},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=(function(){try{return localStorage}catch{}})(),e.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=(Ko?Yo:(Ko=1,Yo=function(n){function o(a){let c,u,p,d=null;function x(...l){if(!x.enabled)return;let b=x,h=Number(new Date),I=h-(c||h);b.diff=I,b.prev=c,b.curr=h,c=h,l[0]=o.coerce(l[0]),typeof l[0]!="string"&&l.unshift("%O");let O=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,(T,R)=>{if(T==="%%")return"%";O++;let V=o.formatters[R];if(typeof V=="function"){let J=l[O];T=V.call(b,J),l.splice(O,1),O--}return T}),o.formatArgs.call(b,l),(b.log||o.log).apply(b,l)}return x.namespace=a,x.useColors=o.useColors(),x.color=o.selectColor(a),x.extend=i,x.destroy=o.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(u!==o.namespaces&&(u=o.namespaces,p=o.enabled(a)),p),set:l=>{d=l}}),typeof o.init=="function"&&o.init(x),x}function i(a,c){let u=o(this.namespace+(typeof c>"u"?":":c)+a);return u.log=this.log,u}function s(a,c){let u=0,p=0,d=-1,x=0;for(;u<a.length;)if(p<c.length&&(c[p]===a[u]||c[p]==="*"))c[p]==="*"?(d=p,x=u,p++):(u++,p++);else{if(d===-1)return!1;p=d+1,x++,u=x}for(;p<c.length&&c[p]==="*";)p++;return p===c.length}return o.debug=o,o.default=o,o.coerce=function(a){return a instanceof Error?a.stack||a.message:a},o.disable=function(){let a=[...o.names,...o.skips.map(c=>"-"+c)].join(",");return o.enable(""),a},o.enable=function(a){o.save(a),o.namespaces=a,o.names=[],o.skips=[];let c=(typeof a=="string"?a:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let u of c)u[0]==="-"?o.skips.push(u.slice(1)):o.names.push(u)},o.enabled=function(a){for(let c of o.skips)if(s(a,c))return!1;for(let c of o.names)if(s(a,c))return!0;return!1},o.humanize=(function(){if(Qo)return Xo;Qo=1;var a=1e3,c=60*a,u=60*c,p=24*u,d=7*p;function x(l,b,h,I){var O=b>=1.5*h;return Math.round(l/h)+" "+I+(O?"s":"")}return Xo=function(l,b){b=b||{};var h,I,O=typeof l;if(O==="string"&&l.length>0)return(function(T){if(!((T=String(T)).length>100)){var R=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(T);if(R){var V=parseFloat(R[1]);switch((R[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*V;case"weeks":case"week":case"w":return V*d;case"days":case"day":case"d":return V*p;case"hours":case"hour":case"hrs":case"hr":case"h":return V*u;case"minutes":case"minute":case"mins":case"min":case"m":return V*c;case"seconds":case"second":case"secs":case"sec":case"s":return V*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return V;default:return}}}})(l);if(O==="number"&&isFinite(l))return b.long?(h=l,(I=Math.abs(h))>=p?x(h,I,p,"day"):I>=u?x(h,I,u,"hour"):I>=c?x(h,I,c,"minute"):I>=a?x(h,I,a,"second"):h+" ms"):(function(T){var R=Math.abs(T);return R>=p?Math.round(T/p)+"d":R>=u?Math.round(T/u)+"h":R>=c?Math.round(T/c)+"m":R>=a?Math.round(T/a)+"s":T+"ms"})(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))}})(),o.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(n).forEach(a=>{o[a]=n[a]}),o.names=[],o.skips=[],o.formatters={},o.selectColor=function(a){let c=0;for(let u=0;u<a.length;u++)c=(c<<5)-c+a.charCodeAt(u),c|=0;return o.colors[Math.abs(c)%o.colors.length]},o.enable(o.load()),o}))(e);let{formatters:r}=t.exports;r.j=function(n){try{return JSON.stringify(n)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}}})(Cn,Cn.exports)),Cn.exports));var Aa=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t);function ei(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ta(t){if(ei(t)===!1)return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(ei(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)}var ja=["boolean","string","number"];function ri(){return{processOptions:t=>{let e=t.body;return!e||typeof e.pipe=="function"||Aa(e)||ja.indexOf(typeof e)===-1&&!Array.isArray(e)&&!Ta(e)?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function ni(t){return{onResponse:r=>{let n=r.headers["content-type"]||"",o=t&&t.force||n.indexOf("application/json")!==-1;return r.body&&n&&o?Object.assign({},r,{body:e(r.body)}):r},processOptions:r=>Object.assign({},r,{headers:Object.assign({Accept:"application/json"},r.headers)})};function e(r){try{return JSON.parse(r)}catch(n){throw n.message=`Failed to parsed response body as JSON: ${n.message}`,n}}}var er={};typeof globalThis<"u"?er=globalThis:typeof window<"u"?er=window:typeof global<"u"?er=global:typeof self<"u"&&(er=self);var Ra=er;function oi(t={}){let e=t.implementation||Ra.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(r,n)=>new e(o=>(r.error.subscribe(i=>o.error(i)),r.progress.subscribe(i=>o.next(Object.assign({type:"progress"},i))),r.response.subscribe(i=>{o.next(Object.assign({type:"response"},i)),o.complete()}),r.request.publish(n),()=>r.abort.publish()))}}function ii(){return{onRequest:t=>{if(t.adapter!=="xhr")return;let e=t.request,r=t.context;function n(o){return i=>{let s=i.lengthComputable?i.loaded/i.total*100:-1;r.channels.progress.publish({stage:o,percent:s,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"))}}}var In=(t={})=>{let e=t.implementation||Promise;if(!e)throw new Error("`Promise` is not available in global scope, and no implementation was passed");return{onReturn:(r,n)=>new e((o,i)=>{let s=n.options.cancelToken;s&&s.promise.then(a=>{r.abort.publish(a),i(a)}),r.error.subscribe(i),r.response.subscribe(a=>{o(t.onlyBody?a.body:a)}),setTimeout(()=>{try{r.request.publish(n)}catch(a){i(a)}},0)})}},Ir=class{constructor(e){C(this,"__CANCEL__",!0);C(this,"message");this.message=e}toString(){return"Cancel"+(this.message?`: ${this.message}`:"")}},Or=class Or{constructor(e){C(this,"promise");C(this,"reason");if(typeof e!="function")throw new TypeError("executor must be a function.");let r=null;this.promise=new Promise(n=>{r=n}),e(n=>{this.reason||(this.reason=new Ir(n),r(this.reason))})}};C(Or,"source",()=>{let e;return{token:new Or(r=>{e=r}),cancel:e}});var On=Or;In.Cancel=Ir,In.CancelToken=On,In.isCancel=t=>!(!t||!t?.__CANCEL__);var si=(t,e,r)=>(r.method==="GET"||r.method==="HEAD")&&(t.isNetworkError||!1);function Pa(t){return 100*Math.pow(2,t)+100*Math.random()}var Ar=(t={})=>(e=>{let r=e.maxRetries||5,n=e.retryDelay||Pa,o=e.shouldRetry;return{onError:(i,s)=>{let a=s.options,c=a.maxRetries||r,u=a.retryDelay||n,p=a.shouldRetry||o,d=a.attemptNumber||0;if((x=a.body)!==null&&typeof x=="object"&&typeof x.pipe=="function"||!p(i,d,a)||d>=c)return i;var x;let l=Object.assign({},s,{options:Object.assign({},a,{attemptNumber:d+1})});return setTimeout(()=>s.channels.request.publish(l),u(d)),null}}})({shouldRetry:si,...t});Ar.shouldRetry=si;var An=class extends Error{constructor(r,n){super(r.message);C(this,"request");C(this,"code");this.request=n,this.code=r.code}},zu=(ti=Oa,function(t={}){let{maxRetries:e=3,ms:r=1e3,maxFree:n=256}=t,{finalizeOptions:o}=ti({keepAlive:!0,keepAliveMsecs:r,maxFreeSockets:n});return{finalizeOptions:o,onError:(i,s)=>{if((s.options.method==="GET"||s.options.method==="POST")&&i instanceof An&&i.code==="ECONNRESET"&&i.request.reusedSocket){let a=s.options.attemptNumber||0;if(a<e){let c=Object.assign({},s,{options:Object.assign({},s.options,{attemptNumber:a+1})});return setImmediate(()=>s.channels.request.publish(c)),null}}return i}}}),ti;var Tn=function(t,e){return Tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Tn(t,e)};function le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function ai(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(p){try{u(n.next(p))}catch(d){s(d)}}function c(p){try{u(n.throw(p))}catch(d){s(d)}}function u(p){p.done?i(p.value):o(p.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function Tr(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(p){return c([u,p])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(p){u=[6,p],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function We(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function ae(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function lt(t){return this instanceof lt?(this.v=t,this):new lt(t)}function ci(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(l){return function(b){return Promise.resolve(b).then(l,d)}}function a(l,b){n[l]&&(o[l]=function(h){return new Promise(function(I,O){i.push([l,h,I,O])>1||c(l,h)})},b&&(o[l]=b(o[l])))}function c(l,b){try{u(n[l](b))}catch(h){x(i[0][3],h)}}function u(l){l.value instanceof lt?Promise.resolve(l.value.v).then(p,d):x(i[0][2],l)}function p(l){c("next",l)}function d(l){c("throw",l)}function x(l,b){l(b),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ui(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof We=="function"?We(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}function F(t){return typeof t=="function"}function Ot(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var jr=Ot(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function pt(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Ye=(function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=We(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else s.remove(this);var p=this.initialTeardown;if(F(p))try{p()}catch(h){i=h instanceof jr?h.errors:[h]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var x=We(d),l=x.next();!l.done;l=x.next()){var b=l.value;try{fi(b)}catch(h){i=i??[],h instanceof jr?i=ae(ae([],se(i)),se(h.errors)):i.push(h)}}}catch(h){n={error:h}}finally{try{l&&!l.done&&(o=x.return)&&o.call(x)}finally{if(n)throw n.error}}}if(i)throw new jr(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)fi(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&pt(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&pt(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=(function(){var e=new t;return e.closed=!0,e})(),t})();var jn=Ye.EMPTY;function Rr(t){return t instanceof Ye||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function fi(t){F(t)?t():t.unsubscribe()}var Pe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var At={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=At.delegate;return o?.setTimeout?o.setTimeout.apply(o,ae([t,e],se(r))):setTimeout.apply(void 0,ae([t,e],se(r)))},clearTimeout:function(t){var e=At.delegate;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Pr(t){At.setTimeout(function(){var e=Pe.onUnhandledError;if(e)e(t);else throw t})}function Rn(){}var li=(function(){return Pn("C",void 0,void 0)})();function pi(t){return Pn("E",void 0,t)}function di(t){return Pn("N",t,void 0)}function Pn(t,e,r){return{kind:t,value:e,error:r}}var dt=null;function Tt(t){if(Pe.useDeprecatedSynchronousErrorHandling){var e=!dt;if(e&&(dt={errorThrown:!1,error:null}),t(),e){var r=dt,n=r.errorThrown,o=r.error;if(dt=null,n)throw o}}else t()}function hi(t){Pe.useDeprecatedSynchronousErrorHandling&&dt&&(dt.errorThrown=!0,dt.error=t)}var tr=(function(t){le(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Rr(r)&&r.add(n)):n.destination=Fa,n}return e.create=function(r,n,o){return new He(r,n,o)},e.prototype.next=function(r){this.isStopped?kn(di(r),this):this._next(r)},e.prototype.error=function(r){this.isStopped?kn(pi(r),this):(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped?kn(li,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e})(Ye);var $a=Function.prototype.bind;function $n(t,e){return $a.call(t,e)}var ka=(function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){$r(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){$r(n)}else $r(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){$r(r)}},t})(),He=(function(t){le(e,t);function e(r,n,o){var i=t.call(this)||this,s;if(F(r)||!r)s={next:r??void 0,error:n??void 0,complete:o??void 0};else{var a;i&&Pe.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return i.unsubscribe()},s={next:r.next&&$n(r.next,a),error:r.error&&$n(r.error,a),complete:r.complete&&$n(r.complete,a)}):s=r}return i.destination=new ka(s),i}return e})(tr);function $r(t){Pe.useDeprecatedSynchronousErrorHandling?hi(t):Pr(t)}function qa(t){throw t}function kn(t,e){var r=Pe.onStoppedNotification;r&&At.setTimeout(function(){return r(t,e)})}var Fa={closed:!0,next:Rn,error:qa,complete:Rn};var jt=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function Ke(t){return t}function mi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return qn(t)}function qn(t){return t.length===0?Ke:t.length===1?t[0]:function(r){return t.reduce(function(n,o){return o(n)},r)}}var N=(function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var o=this,i=Da(e)?e:new He(e,r,n);return Tt(function(){var s=o,a=s.operator,c=s.source;i.add(a?a.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=yi(r),new r(function(o,i){var s=new He({next:function(a){try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});n.subscribe(s)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[jt]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return qn(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=yi(e),new e(function(n,o){var i;r.subscribe(function(s){return i=s},function(s){return o(s)},function(){return n(i)})})},t.create=function(e){return new t(e)},t})();function yi(t){var e;return(e=t??Pe.Promise)!==null&&e!==void 0?e:Promise}function Ma(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function Da(t){return t&&t instanceof tr||Ma(t)&&Rr(t)}function La(t){return F(t?.lift)}function te(t){return function(e){if(La(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,r,n,o){return new Ua(t,e,r,n,o)}var Ua=(function(t){le(e,t);function e(r,n,o,i,s,a){var c=t.call(this,r)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=n?function(u){try{n(u)}catch(p){r.error(p)}}:t.prototype._next,c._error=i?function(u){try{i(u)}catch(p){r.error(p)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=o?function(){try{o()}catch(u){r.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,c}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e})(tr);var vi=Ot(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var rr=(function(t){le(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new gi(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new vi},e.prototype.next=function(r){var n=this;Tt(function(){var o,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=We(n.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(r)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},e.prototype.error=function(r){var n=this;Tt(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var o=n.observers;o.length;)o.shift().error(r)}})},e.prototype.complete=function(){var r=this;Tt(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?jn:(this.currentObservers=null,a.push(r),new Ye(function(){n.currentObservers=null,pt(a,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,o=n.hasError,i=n.thrownError,s=n.isStopped;o?r.error(i):s&&r.complete()},e.prototype.asObservable=function(){var r=new N;return r.source=this,r},e.create=function(r,n){return new gi(r,n)},e})(N);var gi=(function(t){le(e,t);function e(r,n){var o=t.call(this)||this;return o.destination=r,o.source=n,o}return e.prototype.next=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,r)},e.prototype.error=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&o!==void 0?o:jn},e})(rr);var nr={now:function(){return(nr.delegate||Date).now()},delegate:void 0};var bi=(function(t){le(e,t);function e(r,n,o){r===void 0&&(r=1/0),n===void 0&&(n=1/0),o===void 0&&(o=nr);var i=t.call(this)||this;return i._bufferSize=r,i._windowTime=n,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,r),i._windowTime=Math.max(1,n),i}return e.prototype.next=function(r){var n=this,o=n.isStopped,i=n._buffer,s=n._infiniteTimeWindow,a=n._timestampProvider,c=n._windowTime;o||(i.push(r),!s&&i.push(a.now()+c)),this._trimBuffer(),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),o=this,i=o._infiniteTimeWindow,s=o._buffer,a=s.slice(),c=0;c<a.length&&!r.closed;c+=i?1:2)r.next(a[c]);return this._checkFinalizedStatuses(r),n},e.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,o=r._timestampProvider,i=r._buffer,s=r._infiniteTimeWindow,a=(s?1:2)*n;if(n<1/0&&a<i.length&&i.splice(0,i.length-a),!s){for(var c=o.now(),u=0,p=1;p<i.length&&i[p]<=c;p+=2)u=p;u&&i.splice(0,u+1)}},e})(rr);var wi=(function(t){le(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),this},e})(Ye);var or={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=or.delegate;return o?.setInterval?o.setInterval.apply(o,ae([t,e],se(r))):setInterval.apply(void 0,ae([t,e],se(r)))},clearInterval:function(t){var e=or.delegate;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var xi=(function(t){le(e,t);function e(r,n){var o=t.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.pending=!1,o}return e.prototype.schedule=function(r,n){var o;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),or.setInterval(r.flush.bind(r,this),o)},e.prototype.recycleAsyncId=function(r,n,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return n;n!=null&&or.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(r,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var o=!1,i;try{this.work(r)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,o=r.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,pt(i,this),n!=null&&(this.id=this.recycleAsyncId(o,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e})(wi);var Fn=(function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=nr.now,t})();var _i=(function(t){le(e,t);function e(r,n){n===void 0&&(n=Fn.now);var o=t.call(this,r,n)||this;return o.actions=[],o._active=!1,o}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var o;this._active=!0;do if(o=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,o){for(;r=n.shift();)r.unsubscribe();throw o}},e})(Fn);var Na=new _i(xi),Ei=Na;var ir=new N(function(t){return t.complete()});function kr(t){return t&&F(t.schedule)}function Mn(t){return t[t.length-1]}function Si(t){return F(Mn(t))?t.pop():void 0}function Rt(t){return kr(Mn(t))?t.pop():void 0}function Ci(t,e){return typeof Mn(t)=="number"?t.pop():e}var qr=(function(t){return t&&typeof t.length=="number"&&typeof t!="function"});function Fr(t){return F(t?.then)}function Mr(t){return F(t[jt])}function Dr(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function Lr(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Va(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ur=Va();function Nr(t){return F(t?.[Ur])}function Vr(t){return ci(this,arguments,function(){var r,n,o,i;return Tr(this,function(s){switch(s.label){case 0:r=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,lt(r.read())];case 3:return n=s.sent(),o=n.value,i=n.done,i?[4,lt(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,lt(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function Wr(t){return F(t?.getReader)}function oe(t){if(t instanceof N)return t;if(t!=null){if(Mr(t))return Wa(t);if(qr(t))return Ha(t);if(Fr(t))return za(t);if(Dr(t))return Ii(t);if(Nr(t))return Ba(t);if(Wr(t))return Ga(t)}throw Lr(t)}function Wa(t){return new N(function(e){var r=t[jt]();if(F(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ha(t){return new N(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function za(t){return new N(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Pr)})}function Ba(t){return new N(function(e){var r,n;try{for(var o=We(t),i=o.next();!i.done;i=o.next()){var s=i.value;if(e.next(s),e.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}e.complete()})}function Ii(t){return new N(function(e){Ja(t,e).catch(function(r){return e.error(r)})})}function Ga(t){return Ii(Vr(t))}function Ja(t,e){var r,n,o,i;return ai(this,void 0,void 0,function(){var s,a;return Tr(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=ui(t),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(s=n.value,e.next(s),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ve(t,e,r,n,o){n===void 0&&(n=0),o===void 0&&(o=!1);var i=e.schedule(function(){r(),o?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(i),!o)return i}function Hr(t,e){return e===void 0&&(e=0),te(function(r,n){r.subscribe(ye(n,function(o){return ve(n,t,function(){return n.next(o)},e)},function(){return ve(n,t,function(){return n.complete()},e)},function(o){return ve(n,t,function(){return n.error(o)},e)}))})}function zr(t,e){return e===void 0&&(e=0),te(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function Oi(t,e){return oe(t).pipe(zr(e),Hr(e))}function Ai(t,e){return oe(t).pipe(zr(e),Hr(e))}function Ti(t,e){return new N(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function ji(t,e){return new N(function(r){var n;return ve(r,e,function(){n=t[Ur](),ve(r,e,function(){var o,i,s;try{o=n.next(),i=o.value,s=o.done}catch(a){r.error(a);return}s?r.complete():r.next(i)},0,!0)}),function(){return F(n?.return)&&n.return()}})}function Br(t,e){if(!t)throw new Error("Iterable cannot be null");return new N(function(r){ve(r,e,function(){var n=t[Symbol.asyncIterator]();ve(r,e,function(){n.next().then(function(o){o.done?r.complete():r.next(o.value)})},0,!0)})})}function Ri(t,e){return Br(Vr(t),e)}function Pi(t,e){if(t!=null){if(Mr(t))return Oi(t,e);if(qr(t))return Ti(t,e);if(Fr(t))return Ai(t,e);if(Dr(t))return Br(t,e);if(Nr(t))return ji(t,e);if(Wr(t))return Ri(t,e)}throw Lr(t)}function $e(t,e){return e?Pi(t,e):oe(t)}function Pt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Rt(t);return $e(t,r)}function Gr(t,e){var r=F(t)?t:function(){return t},n=function(o){return o.error(r())};return new N(e?function(o){return e.schedule(n,0,o)}:n)}function Dn(t){return!!t&&(t instanceof N||F(t.lift)&&F(t.subscribe))}var Jr=Ot(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function M(t,e){var r=typeof e=="object";return new Promise(function(n,o){var i=!1,s;t.subscribe({next:function(a){s=a,i=!0},error:o,complete:function(){i?n(s):r?n(e.defaultValue):o(new Jr)}})})}function sr(t,e){var r=typeof e=="object";return new Promise(function(n,o){var i=new He({next:function(s){n(s),i.unsubscribe()},error:o,complete:function(){r?n(e.defaultValue):o(new Jr)}});t.subscribe(i)})}function $i(t){return t instanceof Date&&!isNaN(t)}function ee(t,e){return te(function(r,n){var o=0;r.subscribe(ye(n,function(i){n.next(t.call(e,i,o++))}))})}var Xa=Array.isArray;function Qa(t,e){return Xa(e)?t.apply(void 0,ae([],se(e))):t(e)}function ki(t){return ee(function(e){return Qa(t,e)})}function Fi(t,e,r){return r===void 0&&(r=Ke),function(n){qi(e,function(){for(var o=t.length,i=new Array(o),s=o,a=o,c=function(p){qi(e,function(){var d=$e(t[p],e),x=!1;d.subscribe(ye(n,function(l){i[p]=l,x||(x=!0,a--),a||n.next(r(i.slice()))},function(){--s||n.complete()}))},n)},u=0;u<o;u++)c(u)},n)}}function qi(t,e,r){t?ve(r,t,e):e()}function Mi(t,e,r,n,o,i,s,a){var c=[],u=0,p=0,d=!1,x=function(){d&&!c.length&&!u&&e.complete()},l=function(h){return u<n?b(h):c.push(h)},b=function(h){i&&e.next(h),u++;var I=!1;oe(r(h,p++)).subscribe(ye(e,function(O){o?.(O),i?l(O):e.next(O)},function(){I=!0},void 0,function(){if(I)try{u--;for(var O=function(){var T=c.shift();s?ve(e,s,function(){return b(T)}):b(T)};c.length&&u<n;)O();x()}catch(T){e.error(T)}}))};return t.subscribe(ye(e,l,function(){d=!0,x()})),function(){a?.()}}function Ze(t,e,r){return r===void 0&&(r=1/0),F(e)?Ze(function(n,o){return ee(function(i,s){return e(n,i,o,s)})(oe(t(n,o)))},r):(typeof e=="number"&&(r=e),te(function(n,o){return Mi(n,o,t,r)}))}function Xr(t){return t===void 0&&(t=1/0),Ze(Ke,t)}function Di(){return Xr(1)}function Qr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Di()($e(t,Rt(t)))}function Yr(t){return new N(function(e){oe(t()).subscribe(e)})}function Ln(t,e,r){t===void 0&&(t=0),r===void 0&&(r=Ei);var n=-1;return e!=null&&(kr(e)?r=e:n=e),new N(function(o){var i=$i(t)?+t-r.now():t;i<0&&(i=0);var s=0;return r.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}function Un(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Rt(t),n=Ci(t,1/0),o=t;return o.length?o.length===1?oe(o[0]):Xr(n)($e(o,r)):ir}var Ya=Array.isArray;function Li(t){return t.length===1&&Ya(t[0])?t[0]:t}function et(t,e){return te(function(r,n){var o=0;r.subscribe(ye(n,function(i){return t.call(e,i,o++)&&n.next(i)}))})}function ar(t){return te(function(e,r){var n=null,o=!1,i;n=e.subscribe(ye(r,void 0,void 0,function(s){i=oe(t(s,ar(t)(e))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}function Nn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Si(t);return r?mi(Nn.apply(void 0,ae([],se(t))),ki(r)):te(function(n,o){Fi(ae([n],se(Li(t))))(o)})}function Vn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Nn.apply(void 0,ae([],se(t)))}function $t(t){return te(function(e,r){try{e.subscribe(r)}finally{r.add(t)}})}function cr(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new rr}:e,n=t.resetOnError,o=n===void 0?!0:n,i=t.resetOnComplete,s=i===void 0?!0:i,a=t.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var p,d,x,l=0,b=!1,h=!1,I=function(){d?.unsubscribe(),d=void 0},O=function(){I(),p=x=void 0,b=h=!1},T=function(){var R=p;O(),R?.unsubscribe()};return te(function(R,V){l++,!h&&!b&&I();var J=x=x??r();V.add(function(){l--,l===0&&!h&&!b&&(d=Wn(T,c))}),J.subscribe(V),!p&&l>0&&(p=new He({next:function(re){return J.next(re)},error:function(re){h=!0,I(),d=Wn(O,o,re),J.error(re)},complete:function(){b=!0,I(),d=Wn(O,s),J.complete()}}),oe(R).subscribe(p))})(u)}}function Wn(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(e===!0){t();return}if(e!==!1){var o=new He({next:function(){o.unsubscribe(),t()}});return oe(e.apply(void 0,ae([],se(r)))).subscribe(o)}}function Hn(t,e,r){var n,o,i,s,a=!1;return t&&typeof t=="object"?(n=t.bufferSize,s=n===void 0?1/0:n,o=t.windowTime,e=o===void 0?1/0:o,i=t.refCount,a=i===void 0?!1:i,r=t.scheduler):s=t??1/0,cr({connector:function(){return new bi(s,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function zn(t,e,r){var n=F(t)||e||r?{next:t,error:e,complete:r}:t;return n?te(function(o,i){var s;(s=n.subscribe)===null||s===void 0||s.call(n);var a=!0;o.subscribe(ye(i,function(c){var u;(u=n.next)===null||u===void 0||u.call(n,c),i.next(c)},function(){var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),i.complete()},function(c){var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),i.error(c)},function(){var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Ke}Gn();var Hi="drafts",zi="versions",qt=".",Kr=`${Hi}${qt}`,Bi=`${zi}${qt}`;function Ft(t){return t.startsWith(Kr)}function Mt(t){return t.startsWith(Bi)}function Zr(t){if(Mt(t)){let e=Dt(t);return Kr+e}return Ft(t)?t:Kr+t}function ht(t,e){if(e==="drafts"||e==="published")throw new Error('Version can not be "published" or "drafts"');return`${Bi}${e}${qt}${Dt(t)}`}function en(t){if(!Mt(t))return;let[e,r,...n]=t.split(qt);return r}function Dt(t){return Mt(t)?t.split(qt).slice(2).join(qt):Ft(t)?t.slice(Kr.length):t}var ic=t=>crypto.getRandomValues(new Uint8Array(t)),sc=(t,e,r)=>{let n=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*n*e/t.length);return(i=e)=>{let s="";for(;;){let a=r(o),c=o|0;for(;c--;)if(s+=t[a[c]&n]||"",s.length===i)return s}}},Gi=(t,e=21)=>sc(t,e,ic);var ps=/\r\n|[\n\r\u2028\u2029]/;function Cc(t,e,r){let n=t.split(ps),o={start:ds(e.start,n),end:e.end?ds(e.end,n):void 0},{start:i,end:s,markerLines:a}=Ic(o,n),c=`${s}`.length;return t.split(ps,s).slice(i,s).map((u,p)=>{let d=i+1+p,x=` ${` ${d}`.slice(-c)} |`,l=a[d],b=!a[d+1];if(!l)return` ${x}${u.length>0?` ${u}`:""}`;let h="";if(Array.isArray(l)){let I=u.slice(0,Math.max(l[0]-1,0)).replace(/[^\t]/g," "),O=l[1]||1;h=[`
 `,x.replace(/\d/g," ")," ",I,"^".repeat(O)].join(""),b&&r&&(h+=" "+r)}return[">",x,u.length>0?` ${u}`:"",h].join("")}).join(`
`)}function Ic(t,e){let r={...t.start},n={...r,...t.end},o=2,i=3,s=r.line??-1,a=r.column??0,c=n.line,u=n.column,p=Math.max(s-(o+1),0),d=Math.min(e.length,c+i);s===-1&&(p=0),c===-1&&(d=e.length);let x=c-s,l={};if(x)for(let b=0;b<=x;b++){let h=b+s;if(!a)l[h]=!0;else if(b===0){let I=e[h-1].length;l[h]=[a,I-a+1]}else if(b===x)l[h]=[0,u];else{let I=e[h-b].length;l[h]=[0,I]}}else a===u?a?l[s]=[a,0]:l[s]=!0:l[s]=[a,u-a];return{start:p,end:d,markerLines:l}}function ds(t,e){let r=0;for(let n=0;n<e.length;n++){let o=e[n].length+1;if(r+o>t)return{line:n+1,column:t-r};r+=o}return{line:e.length,column:e[e.length-1]?.length??0}}var Xn=5;var Kn=class extends Error{constructor(r,n){let o=ws(r,n);super(o.message);C(this,"response");C(this,"statusCode",400);C(this,"responseBody");C(this,"details");Object.assign(this,o)}},Zn=class extends Error{constructor(r){let n=ws(r);super(n.message);C(this,"response");C(this,"statusCode",500);C(this,"responseBody");C(this,"details");Object.assign(this,n)}};function ws(t,e){let r=t.body,n={response:t,statusCode:t.statusCode,responseBody:Tc(r,t),message:"",details:void 0};if(!kt(r))return n.message=Qn(t,r),n;let o=r.error;if(typeof o=="string"&&typeof r.message=="string")return n.message=`${o} - ${r.message}`,n;if(typeof o!="object"||o===null)return typeof o=="string"?n.message=o:typeof r.message=="string"?n.message=r.message:n.message=Qn(t,r),n;if(Oc(o)||Ac(o)){let i=o.items||[],s=i.slice(0,Xn).map(c=>c.error?.description).filter(Boolean),a=s.length?`:
- ${s.join(`
- `)}`:"";return i.length>Xn&&(a+=`
...and ${i.length-Xn} more`),n.message=`${o.description}${a}`,n.details=r.error,n}if(xs(o)){let i=e?.options?.query?.tag;return n.message=_s(o,i),n.details=r.error,n}return"description"in o&&typeof o.description=="string"?(n.message=o.description,n.details=o,n):(n.message=Qn(t,r),n)}function Oc(t){return"type"in t&&t.type==="mutationError"&&"description"in t&&typeof t.description=="string"}function Ac(t){return"type"in t&&t.type==="actionError"&&"description"in t&&typeof t.description=="string"}function xs(t){return kt(t)&&t.type==="queryParseError"&&typeof t.query=="string"&&typeof t.start=="number"&&typeof t.end=="number"}function _s(t,e){let{query:r,start:n,end:o,description:i}=t;if(!r||typeof n>"u")return`GROQ query parse error: ${i}`;let s=e?`

Tag: ${e}`:"";return`GROQ query parse error:
${Cc(r,{start:n,end:o},i)}${s}`}function Qn(t,e){let r=typeof e=="string"?` (${jc(e,100)})`:"",n=t.statusMessage?` ${t.statusMessage}`:"";return`${t.method}-request to ${t.url} resulted in HTTP ${t.statusCode}${n}${r}`}function Tc(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}function jc(t,e){return t.length>e?`${t.slice(0,e)}\u2026`:t}var eo=class extends Error{constructor({projectId:r}){super("CorsOriginError");C(this,"projectId");C(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=r;let n=new URL(`https://sanity.io/manage/project/${r}/api`);if(typeof location<"u"){let{origin:o}=location;n.searchParams.set("cors","add"),n.searchParams.set("origin",o),this.addOriginUrl=n,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${n}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${n}`}},Rc={onResponse:(t,e)=>{if(t.statusCode>=500)throw new Zn(t);if(t.statusCode>=400)throw new Kn(t,e);return t}};function Pc(t={}){let e={},r=n=>t.ignoreWarnings===void 0?!1:(Array.isArray(t.ignoreWarnings)?t.ignoreWarnings:[t.ignoreWarnings]).some(o=>typeof o=="string"?n.includes(o):o instanceof RegExp?o.test(n):!1);return{onResponse:n=>{let o=n.headers["x-sanity-warning"],i=Array.isArray(o)?o:[o];for(let s of i)!s||e[s]||r(s)||(e[s]=!0,console.warn(s));return n}}}function hs(t,e={}){return Jo([Ar({shouldRetry:$c}),...t,Pc(e),ri(),ni(),ii(),Rc,oi({implementation:N})])}function $c(t,e,r){if(r.maxRetries===0)return!1;let n=r.method==="GET"||r.method==="HEAD",o=(r.uri||r.url).startsWith("/data/query"),i=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(n||o)&&i?!0:Ar.shouldRetry(t,e,r)}var kc="https://www.sanity.io/help/";function bo(t){return kc+t}var ms=["image","file"],ys=["before","after","replace"],Es=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},qc=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Fc=t=>{if(ms.indexOf(t)===-1)throw new Error(`Invalid asset type: ${t}. Must be one of ${ms.join(", ")}`)},fr=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${t}() takes an object of properties`)},on=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${t}(): "${e}" is not a valid document ID`)},Wt=(t,e)=>{if(!e._id)throw new Error(`${t}() requires that the document contains an ID ("_id" property)`);on(t,e._id)},Mc=(t,e)=>{if(typeof e!="string")throw new Error(`\`${t}()\`: \`${e}\` is not a valid document type`)},Ss=(t,e)=>{if(!e._type)throw new Error(`\`${t}()\` requires that the document contains a type (\`_type\` property)`);Mc(t,e._type)},Dc=(t,e)=>{if(e._id&&e._id!==t)throw new Error(`The provided document ID (\`${e._id}\`) does not match the generated version ID (\`${t}\`)`)},Lc=(t,e,r)=>{let n="insert(at, selector, items)";if(ys.indexOf(t)===-1){let o=ys.map(i=>`"${i}"`).join(", ");throw new Error(`${n} takes an "at"-argument which is one of: ${o}`)}if(typeof e!="string")throw new Error(`${n} takes a "selector"-argument which must be a string`);if(!Array.isArray(r))throw new Error(`${n} takes an "items"-argument which must be an array`)},wt=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},Cs=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t},Is=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");let{type:e,id:r}=t["~experimental_resource"];switch(e){case"dataset":{if(r.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},Fe=(t,e)=>{if(e["~experimental_resource"])throw new Error(`\`${t}\` does not support resource-based operations`)};function Uc(t){let e=!1,r;return(...n)=>(e||(r=t(...n),e=!0),r)}var Qe=t=>Uc((...e)=>console.warn(t.join(" "),...e)),Nc=Qe(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),Vc=Qe(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Wc=Qe(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Hc=Qe(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),zc=Qe(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${bo("js-client-browser-token")} for more information and how to hide this warning.`]),Bc=Qe(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),Gc=Qe(["Using the Sanity client without specifying an API version is deprecated.",`See ${bo("js-client-api-version")}`]),Jc=Qe(["The default export of @sanity/client has been deprecated. Use the named export `createClient` instead."]),Xc=Qe(["You have called `createVersion()` with a defined `document`. The recommended approach is to provide a `baseId` and `releaseId` instead."]),Qc="apicdn.sanity.io",lr={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},Yc=["localhost","127.0.0.1","0.0.0.0"],Kc=t=>Yc.indexOf(t)!==-1;function Zc(t){if(t==="1"||t==="X")return;let e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function Os(t){if(Array.isArray(t)&&t.length>1&&t.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}var As=(t,e)=>{let r={...e,...t,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||lr.stega,...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||{}}};r.apiVersion||Gc();let n={...lr,...r},o=n.useProjectHostname&&!n["~experimental_resource"];if(typeof Promise>"u"){let x=bo("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${x}`)}if(o&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(n["~experimental_resource"]&&Is(n),typeof n.perspective<"u"&&Os(n.perspective),"encodeSourceMap"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof n.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${n.stega.enabled}`);if(n.stega.enabled&&n.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(n.stega.enabled&&typeof n.stega.studioUrl!="string"&&typeof n.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${n.stega.studioUrl}`);let i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&Kc(window.location.hostname),a=!!n.token;n.withCredentials&&a&&(Bc(),n.withCredentials=!1),i&&s&&a&&n.ignoreBrowserTokenWarning!==!0?zc():typeof n.useCdn>"u"&&Vc(),o&&qc(n.projectId),n.dataset&&Es(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?Cs(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion=`${n.apiVersion}`.replace(/^v/,""),n.isDefaultApi=n.apiHost===lr.apiHost,n.useCdn===!0&&n.withCredentials&&Nc(),n.useCdn=n.useCdn!==!1&&!n.withCredentials,Zc(n.apiVersion);let c=n.apiHost.split("://",2),u=c[0],p=c[1],d=n.isDefaultApi?Qc:p;return o?(n.url=`${u}://${n.projectId}.${p}/v${n.apiVersion}`,n.cdnUrl=`${u}://${n.projectId}.${d}/v${n.apiVersion}`):(n.url=`${n.apiHost}/v${n.apiVersion}`,n.cdnUrl=n.url),n},sn=class extends Error{constructor(){super(...arguments);C(this,"name","ConnectionFailedError")}},to=class extends Error{constructor(r,n,o={}){super(r,o);C(this,"name","DisconnectError");C(this,"reason");this.reason=n}},ro=class extends Error{constructor(r,n){super(r);C(this,"name","ChannelError");C(this,"data");this.data=n}},no=class extends Error{constructor(r,n,o={}){super(r,o);C(this,"name","MessageError");C(this,"data");this.data=n}},an=class extends Error{constructor(){super(...arguments);C(this,"name","MessageParseError")}},eu=["channelError","disconnect"];function Ts(t,e){return Yr(()=>{let r=t();return Dn(r)?r:Pt(r)}).pipe(Ze(r=>tu(r,e)))}function tu(t,e){return new N(r=>{let n=e.includes("open"),o=e.includes("reconnect");function i(u){if("data"in u){let[p,d]=vs(u);r.error(p?new an("Unable to parse EventSource error message",{cause:d}):new no((d?.data).message,d));return}t.readyState===t.CLOSED?r.error(new sn("EventSource connection failed")):o&&r.next({type:"reconnect"})}function s(){r.next({type:"open"})}function a(u){let[p,d]=vs(u);if(p){r.error(new an("Unable to parse EventSource message",{cause:p}));return}if(u.type==="channelError"){let x=new URL(t.url).searchParams.get("tag");r.error(new ro(ru(d?.data,x),d.data));return}if(u.type==="disconnect"){r.error(new to(`Server disconnected client: ${d.data?.reason||"unknown error"}`));return}r.next({type:u.type,id:u.lastEventId,...d.data?{data:d.data}:{}})}t.addEventListener("error",i),n&&t.addEventListener("open",s);let c=[...new Set([...eu,...e])].filter(u=>u!=="error"&&u!=="open"&&u!=="reconnect");return c.forEach(u=>t.addEventListener(u,a)),()=>{t.removeEventListener("error",i),n&&t.removeEventListener("open",s),c.forEach(u=>t.removeEventListener(u,a)),t.close()}})}function vs(t){try{let e=typeof t.data=="string"&&JSON.parse(t.data);return[null,{type:t.type,id:t.lastEventId,...nu(e)?{}:{data:e}}]}catch(e){return[e,null]}}function ru(t,e){let r=t.error;return r?xs(r)?_s(r,e):r.description?r.description:typeof r=="string"?r:JSON.stringify(r,null,2):t.message||"Unknown listener error"}function nu(t){for(let e in t)return!1;return!0}function js(t){if(typeof t=="string")return{id:t};if(Array.isArray(t))return{query:"*[_id in $ids]",params:{ids:t}};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};let e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}var cn=class{constructor(e,r={}){C(this,"selection");C(this,"operations");this.selection=e,this.operations=r}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return fr("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,r,n){return Lc(e,r,n),this._assign("insert",{[e]:r,items:n})}append(e,r){return this.insert("after",`${e}[-1]`,r)}prepend(e,r){return this.insert("before",`${e}[0]`,r)}splice(e,r,n,o){let i=typeof n>"u"||n===-1,s=r<0?r-1:r,a=i?-1:Math.max(0,r+n),c=s<0&&a>=0?"":a,u=`${e}[${s}:${c}]`;return this.insert("replace",u,o||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...js(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,r,n=!0){return fr(e,r),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},r)}),this}_set(e,r){return this._assign(e,r,!1)}},mt,Eo=class Eo extends cn{constructor(r,n,o){super(r,n);q(this,mt);k(this,mt,o)}clone(){return new Eo(this.selection,{...this.operations},f(this,mt))}commit(r){if(!f(this,mt))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");let n=typeof this.selection=="string",o=Object.assign({returnFirst:n,returnDocuments:!0},r);return f(this,mt).mutate({patch:this.serialize()},o)}};mt=new WeakMap;var bt=Eo,yt,So=class So extends cn{constructor(r,n,o){super(r,n);q(this,yt);k(this,yt,o)}clone(){return new So(this.selection,{...this.operations},f(this,yt))}commit(r){if(!f(this,yt))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");let n=typeof this.selection=="string",o=Object.assign({returnFirst:n,returnDocuments:!0},r);return f(this,yt).mutate({patch:this.serialize()},o)}};yt=new WeakMap;var ct=So,Rs={returnDocuments:!1},un=class{constructor(e=[],r){C(this,"operations");C(this,"trxId");this.operations=e,this.trxId=r}create(e){return fr("create",e),this._add({create:e})}createIfNotExists(e){let r="createIfNotExists";return fr(r,e),Wt(r,e),this._add({[r]:e})}createOrReplace(e){let r="createOrReplace";return fr(r,e),Wt(r,e),this._add({[r]:e})}delete(e){return on("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}},ze,Co=class Co extends un{constructor(r,n,o){super(r,o);q(this,ze);k(this,ze,n)}clone(){return new Co([...this.operations],f(this,ze),this.trxId)}commit(r){if(!f(this,ze))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return f(this,ze).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Rs,r||{}))}patch(r,n){let o=typeof n=="function",i=typeof r!="string"&&r instanceof ct,s=typeof r=="object"&&("query"in r||"id"in r);if(i)return this._add({patch:r.serialize()});if(o){let a=n(new ct(r,{},f(this,ze)));if(!(a instanceof ct))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:a.serialize()})}if(s){let a=new ct(r,n||{},f(this,ze));return this._add({patch:a.serialize()})}return this._add({patch:{id:r,...n}})}};ze=new WeakMap;var fn=Co,tt,Io=class Io extends un{constructor(r,n,o){super(r,o);q(this,tt);k(this,tt,n)}clone(){return new Io([...this.operations],f(this,tt),this.trxId)}commit(r){if(!f(this,tt))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return f(this,tt).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Rs,r||{}))}patch(r,n){let o=typeof n=="function";if(typeof r!="string"&&r instanceof bt)return this._add({patch:r.serialize()});if(o){let i=n(new bt(r,{},f(this,tt)));if(!(i instanceof bt))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:r,...n}})}};tt=new WeakMap;var ln=Io,ou="X-Sanity-Project-ID";function iu(t,e={}){let r={};t.headers&&Object.assign(r,t.headers);let n=e.token||t.token;n&&(r.Authorization=`Bearer ${n}`),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(r[ou]=t.projectId);let o=!!(typeof e.withCredentials>"u"?t.withCredentials:e.withCredentials),i=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},r,e.headers||{}),timeout:typeof i>"u"?300*1e3:i,proxy:e.proxy||t.proxy,json:!0,withCredentials:o,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}var Ps=({query:t,params:e={},options:r={}})=>{let n=new URLSearchParams,{tag:o,includeMutations:i,returnQuery:s,...a}=r;o&&n.append("tag",o),n.append("query",t);for(let[c,u]of Object.entries(e))u!==void 0&&n.append(`$${c}`,JSON.stringify(u));for(let[c,u]of Object.entries(a))u&&n.append(c,`${u}`);return s===!1&&n.append("returnQuery","false"),i===!1&&n.append("includeMutations","false"),`?${n}`},su=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,au=(t={})=>({dryRun:t.dryRun,returnIds:!0,returnDocuments:su(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}),wo=t=>t.type==="response",cu=t=>t.body,uu=(t,e)=>t.reduce((r,n)=>(r[e(n)]=n,r),Object.create(null)),fu=11264;function $s(t,e,r,n,o={},i={}){let s="stega"in i?{...r||{},...typeof i.stega=="boolean"?{enabled:i.stega}:i.stega||{}}:r,a=s.enabled?Wi(o):o,c=i.filterResponse===!1?b=>b:b=>b.result,{cache:u,next:p,...d}={useAbortSignal:typeof i.signal<"u",resultSourceMap:s.enabled?"withKeyArraySelector":i.resultSourceMap,...i,returnQuery:i.filterResponse===!1&&i.returnQuery!==!1},x=typeof u<"u"||typeof p<"u"?{...d,fetch:{cache:u,next:p}}:d,l=xt(t,e,"query",{query:n,params:a},x);return s.enabled?l.pipe(Vn($e(Promise.resolve().then(()=>(cs(),as)).then(function(b){return b.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:b})=>b))),ee(([b,h])=>{let I=h(b.result,b.resultSourceMap,s);return c({...b,result:I})})):l.pipe(ee(c))}function vn(t,e,r,n={}){let o=(()=>{if(!n.releaseId)return r;let s=en(r);if(!s){if(Ft(r))throw new Error(`The document ID (\`${r}\`) is a draft, but \`options.releaseId\` is set as \`${n.releaseId}\``);return ht(r,n.releaseId)}if(s!==n.releaseId)throw new Error(`The document ID (\`${r}\`) is already a version of \`${s}\` release, but this does not match the provided \`options.releaseId\` (\`${n.releaseId}\`)`);return r})(),i={uri:Oe(t,"doc",o),json:!0,tag:n.tag,signal:n.signal};return xr(t,e,i).pipe(et(wo),ee(s=>s.body.documents&&s.body.documents[0]))}function ks(t,e,r,n={}){let o={uri:Oe(t,"doc",r.join(",")),json:!0,tag:n.tag,signal:n.signal};return xr(t,e,o).pipe(et(wo),ee(i=>{let s=uu(i.body.documents||[],a=>a._id);return r.map(a=>s[a]||null)}))}function qs(t,e,r,n={}){return xt(t,e,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:r}},n)}function Fs(t,e,r,n){return Wt("createIfNotExists",r),gn(t,e,r,"createIfNotExists",n)}function Ms(t,e,r,n){return Wt("createOrReplace",r),gn(t,e,r,"createOrReplace",n)}function Ds(t,e,r,n,o){return Wt("createVersion",r),Ss("createVersion",r),Xc(),K(t,e,{actionType:"sanity.action.document.version.create",publishedId:n,document:r},o)}function Ls(t,e,r,n,o,i,s){if(!n)throw new Error("`createVersion()` requires `baseId` when no `document` is provided");if(!r)throw new Error("`createVersion()` requires `publishedId` when `baseId` is provided");on("createVersion",n),on("createVersion",r);let a={actionType:"sanity.action.document.version.create",publishedId:r,baseId:n,versionId:o?ht(r,o):Zr(r),ifBaseRevisionId:i};return K(t,e,a,s)}function Us(t,e,r,n){return xt(t,e,"mutate",{mutations:[{delete:js(r)}]},n)}function Ns(t,e,r,n=!1,o){return K(t,e,{actionType:"sanity.action.document.version.discard",versionId:r,purge:n},o)}function Vs(t,e,r,n){return Wt("replaceVersion",r),Ss("replaceVersion",r),K(t,e,{actionType:"sanity.action.document.version.replace",document:r},n)}function Ws(t,e,r,n,o){return K(t,e,{actionType:"sanity.action.document.version.unpublish",versionId:r,publishedId:n},o)}function Hs(t,e,r,n){let o;r instanceof ct||r instanceof bt?o={patch:r.serialize()}:r instanceof fn||r instanceof ln?o=r.serialize():o=r;let i=Array.isArray(o)?o:[o],s=n&&n.transactionId||void 0;return xt(t,e,"mutate",{mutations:i,transactionId:s},n)}function K(t,e,r,n){let o=Array.isArray(r)?r:[r],i=n&&n.transactionId||void 0,s=n&&n.skipCrossDatasetReferenceValidation||void 0,a=n&&n.dryRun||void 0;return xt(t,e,"actions",{actions:o,transactionId:i,skipCrossDatasetReferenceValidation:s,dryRun:a},n)}function xt(t,e,r,n,o={}){let i=r==="mutate",s=r==="actions",a=r==="query",c=i||s?"":Ps(n),u=!i&&!s&&c.length<fu,p=u?c:"",d=o.returnFirst,{timeout:x,token:l,tag:b,headers:h,returnQuery:I,lastLiveEventId:O,cacheMode:T}=o,R=Oe(t,r,p),V={method:u?"GET":"POST",uri:R,json:!0,body:u?void 0:n,query:i&&au(o),timeout:x,headers:h,token:l,tag:b,returnQuery:I,perspective:o.perspective,resultSourceMap:o.resultSourceMap,lastLiveEventId:Array.isArray(O)?O[0]:O,cacheMode:T,canUseCdn:a,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal,useCdn:o.useCdn};return xr(t,e,V).pipe(et(wo),ee(cu),ee(J=>{if(!i)return J;let re=J.results||[];if(o.returnDocuments)return d?re[0]&&re[0].document:re.map(y=>y.document);let _t=d?"documentId":"documentIds",Ae=d?re[0]&&re[0].id:re.map(y=>y.id);return{transactionId:J.transactionId,results:re,[_t]:Ae}}))}function gn(t,e,r,n,o={}){let i={[n]:r},s=Object.assign({returnFirst:!0,returnDocuments:!0},o);return xt(t,e,"mutate",{mutations:[i]},s)}var wr=t=>t.config().dataset!==void 0&&t.config().projectId!==void 0||t.config()["~experimental_resource"]!==void 0,zs=(t,e)=>wr(t)&&e.startsWith(Oe(t,"query")),lu=(t,e)=>wr(t)&&e.startsWith(Oe(t,"mutate")),pu=(t,e)=>wr(t)&&e.startsWith(Oe(t,"doc","")),du=(t,e)=>wr(t)&&e.startsWith(Oe(t,"listen")),hu=(t,e)=>wr(t)&&e.startsWith(Oe(t,"history","")),mu=(t,e)=>e.startsWith("/data/")||zs(t,e)||lu(t,e)||pu(t,e)||du(t,e)||hu(t,e);function xr(t,e,r){let n=r.url||r.uri,o=t.config(),i=typeof r.canUseCdn>"u"?["GET","HEAD"].indexOf(r.method||"GET")>=0&&mu(t,n):r.canUseCdn,s=(r.useCdn??o.useCdn)&&i,a=r.tag&&o.requestTagPrefix?[o.requestTagPrefix,r.tag].join("."):r.tag||o.requestTagPrefix;if(a&&r.tag!==null&&(r.query={tag:Cs(a),...r.query}),["GET","HEAD","POST"].indexOf(r.method||"GET")>=0&&zs(t,n)){let p=r.resultSourceMap??o.resultSourceMap;p!==void 0&&p!==!1&&(r.query={resultSourceMap:p,...r.query});let d=r.perspective||o.perspective;typeof d<"u"&&(d==="previewDrafts"&&Hc(),Os(d),r.query={perspective:Array.isArray(d)?d.join(","):d,...r.query},(Array.isArray(d)&&d.length>0||d==="previewDrafts"||d==="drafts")&&s&&(s=!1,Wc())),r.lastLiveEventId&&(r.query={...r.query,lastLiveEventId:r.lastLiveEventId}),r.returnQuery===!1&&(r.query={returnQuery:"false",...r.query}),s&&r.cacheMode=="noStale"&&(r.query={cacheMode:"noStale",...r.query})}let c=iu(o,Object.assign({},r,{url:xo(t,n,s)})),u=new N(p=>e(c,o.requester).subscribe(p));return r.signal?u.pipe(yu(r.signal)):u}function pe(t,e,r){return xr(t,e,r).pipe(et(n=>n.type==="response"),ee(n=>n.body))}function Oe(t,e,r){let n=t.config();if(n["~experimental_resource"]){Is(n);let s=bu(n),a=r!==void 0?`${e}/${r}`:e;return`${s}/${a}`.replace(/\/($|\?)/,"$1")}let o=wt(n),i=`/${e}/${o}`;return`/data${r!==void 0?`${i}/${r}`:i}`.replace(/\/($|\?)/,"$1")}function xo(t,e,r=!1){let{url:n,cdnUrl:o}=t.config();return`${r?o:n}/${e.replace(/^\//,"")}`}function yu(t){return e=>new N(r=>{let n=()=>r.error(gu(t));if(t&&t.aborted){n();return}let o=e.subscribe(r);return t.addEventListener("abort",n),()=>{t.removeEventListener("abort",n),o.unsubscribe()}})}var vu=!!globalThis.DOMException;function gu(t){if(vu)return new DOMException(t?.reason??"The operation was aborted.","AbortError");let e=new Error(t?.reason??"The operation was aborted.");return e.name="AbortError",e}var bu=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");let{type:e,id:r}=t["~experimental_resource"];switch(e){case"dataset":{let n=r.split(".");if(n.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${n[0]}/datasets/${n[1]}`}case"canvas":return`/canvases/${r}`;case"media-library":return`/media-libraries/${r}`;case"dashboard":return`/dashboards/${r}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};function Bs(t,e,r){let n=wt(t.config());return pe(t,e,{method:"POST",uri:`/agent/action/generate/${n}`,body:r})}function wu(t,e,r){let n=wt(t.config());return pe(t,e,{method:"POST",uri:`/agent/action/patch/${n}`,body:r})}function xu(t,e,r){let n=wt(t.config());return pe(t,e,{method:"POST",uri:`/agent/action/prompt/${n}`,body:r})}function Gs(t,e,r){let n=wt(t.config());return pe(t,e,{method:"POST",uri:`/agent/action/transform/${n}`,body:r})}function Js(t,e,r){let n=wt(t.config());return pe(t,e,{method:"POST",uri:`/agent/action/translate/${n}`,body:r})}var vt,gt,oo=class{constructor(e,r){q(this,vt);q(this,gt);k(this,vt,e),k(this,gt,r)}generate(e){return Bs(f(this,vt),f(this,gt),e)}transform(e){return Gs(f(this,vt),f(this,gt),e)}translate(e){return Js(f(this,vt),f(this,gt),e)}};vt=new WeakMap,gt=new WeakMap;var Be,Ge,io=class{constructor(e,r){q(this,Be);q(this,Ge);k(this,Be,e),k(this,Ge,r)}generate(e){return M(Bs(f(this,Be),f(this,Ge),e))}transform(e){return M(Gs(f(this,Be),f(this,Ge),e))}translate(e){return M(Js(f(this,Be),f(this,Ge),e))}prompt(e){return M(xu(f(this,Be),f(this,Ge),e))}patch(e){return M(wu(f(this,Be),f(this,Ge),e))}};Be=new WeakMap,Ge=new WeakMap;var pr,dr,so=class{constructor(e,r){q(this,pr);q(this,dr);k(this,pr,e),k(this,dr,r)}upload(e,r,n){return Xs(f(this,pr),f(this,dr),e,r,n)}};pr=new WeakMap,dr=new WeakMap;var hr,mr,ao=class{constructor(e,r){q(this,hr);q(this,mr);k(this,hr,e),k(this,mr,r)}upload(e,r,n){let o=Xs(f(this,hr),f(this,mr),e,r,n);return M(o.pipe(et(i=>i.type==="response"),ee(i=>i.body.document)))}};hr=new WeakMap,mr=new WeakMap;function Xs(t,e,r,n,o={}){Fc(r);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);let s=t.config(),a=Eu(o,n),{tag:c,label:u,title:p,description:d,creditLine:x,filename:l,source:b}=a,h={label:u,title:p,description:d,filename:l,meta:i,creditLine:x};return b&&(h.sourceId=b.id,h.sourceName=b.name,h.sourceUrl=b.url),xr(t,e,{tag:c,method:"POST",timeout:a.timeout||0,uri:_u(s,r),headers:a.contentType?{"Content-Type":a.contentType}:{},query:h,body:n})}function _u(t,e){let r=e==="image"?"images":"files";if(t["~experimental_resource"]){let{type:o,id:i}=t["~experimental_resource"];switch(o){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${i}/assets/${r}`;case"media-library":return`/media-libraries/${i}/upload`;case"dashboard":return`/dashboards/${i}/assets/${r}`;default:throw new Error(`Unsupported resource type: ${o.toString()}`)}}let n=wt(t);return`assets/${r}/${n}`}function Eu(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var Su=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((r,n)=>(r[n]=typeof t[n]>"u"?e[n]:t[n],r),{}),Cu=(t,e)=>e.reduce((r,n)=>(typeof t[n]>"u"||(r[n]=t[n]),r),{}),Qs=Yr(()=>Promise.resolve().then(()=>Fo(ls(),1))).pipe(ee(({default:t})=>t),Hn(1));function Ys(){return function(t){return t.pipe(ar((e,r)=>e instanceof sn?Qr(Pt({type:"reconnect"}),Ln(1e3).pipe(Ze(()=>r))):Gr(()=>e)))}}var Iu=14800,Ou=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],Au={includeResult:!0};function Ks(t,e,r={}){let{url:n,token:o,withCredentials:i,requestTagPrefix:s,headers:a}=this.config(),c=r.tag&&s?[s,r.tag].join("."):r.tag,u={...Su(r,Au),tag:c},p=Cu(u,Ou),d=Ps({query:t,params:e,options:{tag:c,...p}}),x=`${n}${Oe(this,"listen",d)}`;if(x.length>Iu)return Gr(()=>new Error("Query too large for listener"));let l=u.events?u.events:["mutation"],b={};return i&&(b.withCredentials=!0),(o||a)&&(b.headers={},o&&(b.headers.Authorization=`Bearer ${o}`),a&&Object.assign(b.headers,a)),Ts(()=>(typeof EventSource>"u"||b.headers?Qs:Pt(EventSource)).pipe(ee(h=>new h(x,b))),l).pipe(Ys(),et(h=>l.includes(h.type)),ee(h=>({type:h.type,..."data"in h?h.data:{}})))}function Tu(t,e){return ju(typeof t=="function"?{predicate:t,...e}:t)}function ju(t){return e=>{let r,n=!1,{predicate:o,...i}=t,s=e.pipe(zn(c=>{t.predicate(c)&&(n=!0,r=c)}),$t(()=>{n=!1,r=void 0}),cr(i)),a=new N(c=>{n&&c.next(r),c.complete()});return Un(s,a)}}var gs="2021-03-25",rt,pn=class{constructor(e){q(this,rt);k(this,rt,e)}events({includeDrafts:e=!1,tag:r}={}){Fe("live",f(this,rt).config());let{projectId:n,apiVersion:o,token:i,withCredentials:s,requestTagPrefix:a,headers:c}=f(this,rt).config(),u=o.replace(/^v/,"");if(u!=="X"&&u<gs)throw new Error(`The live events API requires API version ${gs} or later. The current API version is ${u}. Please update your API version to use this feature.`);if(e&&!i&&!s)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");let p=Oe(f(this,rt),"live/events"),d=new URL(f(this,rt).getUrl(p,!1)),x=r&&a?[a,r].join("."):r;x&&d.searchParams.set("tag",x),e&&d.searchParams.set("includeDrafts","true");let l={};e&&s&&(l.withCredentials=!0),(e&&i||c)&&(l.headers={},e&&i&&(l.headers.Authorization=`Bearer ${i}`),c&&Object.assign(l.headers,c));let b=`${d.href}::${JSON.stringify(l)}`,h=Yn.get(b);if(h)return h;let I=Ts(()=>(typeof EventSource>"u"||l.headers?Qs:Pt(EventSource)).pipe(ee(R=>new R(d.href,l))),["message","restart","welcome","reconnect","goaway"]).pipe(Ys(),ee(R=>{if(R.type==="message"){let{data:V,...J}=R;return{...J,tags:V.tags}}return R})),O=Ru(d,{method:"OPTIONS",mode:"cors",credentials:l.withCredentials?"include":"omit",headers:l.headers}).pipe(Ze(()=>ir),ar(()=>{throw new eo({projectId:n})})),T=Qr(O,I).pipe($t(()=>Yn.delete(b)),Tu({predicate:R=>R.type==="welcome"}));return Yn.set(b,T),T}};rt=new WeakMap;function Ru(t,e){return new N(r=>{let n=new AbortController,o=n.signal;return fetch(t,{...e,signal:n.signal}).then(i=>{r.next(i),r.complete()},i=>{o.aborted||r.error(i)}),()=>n.abort()})}var Yn=new Map,nt,ot,co=class{constructor(e,r){q(this,nt);q(this,ot);k(this,nt,e),k(this,ot,r)}create(e,r){return Ut(f(this,nt),f(this,ot),"PUT",e,r)}edit(e,r){return Ut(f(this,nt),f(this,ot),"PATCH",e,r)}delete(e){return Ut(f(this,nt),f(this,ot),"DELETE",e)}list(){return pe(f(this,nt),f(this,ot),{uri:"/datasets",tag:null})}};nt=new WeakMap,ot=new WeakMap;var Ie,it,uo=class{constructor(e,r){q(this,Ie);q(this,it);k(this,Ie,e),k(this,it,r)}create(e,r){return Fe("dataset",f(this,Ie).config()),M(Ut(f(this,Ie),f(this,it),"PUT",e,r))}edit(e,r){return Fe("dataset",f(this,Ie).config()),M(Ut(f(this,Ie),f(this,it),"PATCH",e,r))}delete(e){return Fe("dataset",f(this,Ie).config()),M(Ut(f(this,Ie),f(this,it),"DELETE",e))}list(){return Fe("dataset",f(this,Ie).config()),M(pe(f(this,Ie),f(this,it),{uri:"/datasets",tag:null}))}};Ie=new WeakMap,it=new WeakMap;function Ut(t,e,r,n,o){return Fe("dataset",t.config()),Es(n),pe(t,e,{method:r,uri:`/datasets/${n}`,body:o,tag:null})}var st,Nt,fo=class{constructor(e,r){q(this,st);q(this,Nt);k(this,st,e),k(this,Nt,r)}list(e){Fe("projects",f(this,st).config());let r=e?.includeMembers===!1?"/projects?includeMembers=false":"/projects";return pe(f(this,st),f(this,Nt),{uri:r})}getById(e){return Fe("projects",f(this,st).config()),pe(f(this,st),f(this,Nt),{uri:`/projects/${e}`})}};st=new WeakMap,Nt=new WeakMap;var at,Vt,lo=class{constructor(e,r){q(this,at);q(this,Vt);k(this,at,e),k(this,Vt,r)}list(e){Fe("projects",f(this,at).config());let r=e?.includeMembers===!1?"/projects?includeMembers=false":"/projects";return M(pe(f(this,at),f(this,Vt),{uri:r}))}getById(e){return Fe("projects",f(this,at).config()),M(pe(f(this,at),f(this,Vt),{uri:`/projects/${e}`}))}};at=new WeakMap,Vt=new WeakMap;var bs=Gi("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),dn=(t,e)=>e?ht(t,e):Zr(t);function hn(t,{releaseId:e,publishedId:r,document:n}){if(r&&n._id){let o=dn(r,e);return Dc(o,n),o}if(n._id){let o=Ft(n._id),i=Mt(n._id);if(!o&&!i)throw new Error(`\`${t}()\` requires a document with an \`_id\` that is a version or draft ID`);if(e){if(o)throw new Error(`\`${t}()\` was called with a document ID (\`${n._id}\`) that is a draft ID, but a release ID (\`${e}\`) was also provided.`);let s=en(n._id);if(s!==e)throw new Error(`\`${t}()\` was called with a document ID (\`${n._id}\`) that is a version ID, but the release ID (\`${e}\`) does not match the document's version ID (\`${s}\`).`)}return n._id}if(r)return dn(r,e);throw new Error(`\`${t}()\` requires either a publishedId or a document with an \`_id\``)}var Pu=(t,e)=>{if(typeof t=="object"&&t!==null&&("releaseId"in t||"metadata"in t)){let{releaseId:r=bs(),metadata:n={}}=t;return[r,n,e]}return[bs(),{},t]},Zs=(t,e)=>{let[r,n,o]=Pu(t,e),i={...n,releaseType:n.releaseType||"undecided"};return{action:{actionType:"sanity.action.release.create",releaseId:r,metadata:i},options:o}},ge,be,po=class{constructor(e,r){q(this,ge);q(this,be);k(this,ge,e),k(this,be,r)}get({releaseId:e},r){return vn(f(this,ge),f(this,be),`_.releases.${e}`,r)}create(e,r){let{action:n,options:o}=Zs(e,r),{releaseId:i,metadata:s}=n;return K(f(this,ge),f(this,be),n,o).pipe(ee(a=>({...a,releaseId:i,metadata:s})))}edit({releaseId:e,patch:r},n){let o={actionType:"sanity.action.release.edit",releaseId:e,patch:r};return K(f(this,ge),f(this,be),o,n)}publish({releaseId:e},r){let n={actionType:"sanity.action.release.publish",releaseId:e};return K(f(this,ge),f(this,be),n,r)}archive({releaseId:e},r){let n={actionType:"sanity.action.release.archive",releaseId:e};return K(f(this,ge),f(this,be),n,r)}unarchive({releaseId:e},r){let n={actionType:"sanity.action.release.unarchive",releaseId:e};return K(f(this,ge),f(this,be),n,r)}schedule({releaseId:e,publishAt:r},n){let o={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:r};return K(f(this,ge),f(this,be),o,n)}unschedule({releaseId:e},r){let n={actionType:"sanity.action.release.unschedule",releaseId:e};return K(f(this,ge),f(this,be),n,r)}delete({releaseId:e},r){let n={actionType:"sanity.action.release.delete",releaseId:e};return K(f(this,ge),f(this,be),n,r)}fetchDocuments({releaseId:e},r){return qs(f(this,ge),f(this,be),e,r)}};ge=new WeakMap,be=new WeakMap;var we,xe,ho=class{constructor(e,r){q(this,we);q(this,xe);k(this,we,e),k(this,xe,r)}get({releaseId:e},r){return M(vn(f(this,we),f(this,xe),`_.releases.${e}`,r))}async create(e,r){let{action:n,options:o}=Zs(e,r),{releaseId:i,metadata:s}=n;return{...await M(K(f(this,we),f(this,xe),n,o)),releaseId:i,metadata:s}}edit({releaseId:e,patch:r},n){let o={actionType:"sanity.action.release.edit",releaseId:e,patch:r};return M(K(f(this,we),f(this,xe),o,n))}publish({releaseId:e},r){let n={actionType:"sanity.action.release.publish",releaseId:e};return M(K(f(this,we),f(this,xe),n,r))}archive({releaseId:e},r){let n={actionType:"sanity.action.release.archive",releaseId:e};return M(K(f(this,we),f(this,xe),n,r))}unarchive({releaseId:e},r){let n={actionType:"sanity.action.release.unarchive",releaseId:e};return M(K(f(this,we),f(this,xe),n,r))}schedule({releaseId:e,publishAt:r},n){let o={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:r};return M(K(f(this,we),f(this,xe),o,n))}unschedule({releaseId:e},r){let n={actionType:"sanity.action.release.unschedule",releaseId:e};return M(K(f(this,we),f(this,xe),n,r))}delete({releaseId:e},r){let n={actionType:"sanity.action.release.delete",releaseId:e};return M(K(f(this,we),f(this,xe),n,r))}fetchDocuments({releaseId:e},r){return M(qs(f(this,we),f(this,xe),e,r))}};we=new WeakMap,xe=new WeakMap;var yr,vr,mo=class{constructor(e,r){q(this,yr);q(this,vr);k(this,yr,e),k(this,vr,r)}getById(e){return pe(f(this,yr),f(this,vr),{uri:`/users/${e}`})}};yr=new WeakMap,vr=new WeakMap;var gr,br,yo=class{constructor(e,r){q(this,gr);q(this,br);k(this,gr,e),k(this,br,r)}getById(e){return M(pe(f(this,gr),f(this,br),{uri:`/users/${e}`}))}};gr=new WeakMap,br=new WeakMap;var Je,B,mn=class mn{constructor(e,r=lr){C(this,"assets");C(this,"datasets");C(this,"live");C(this,"projects");C(this,"users");C(this,"agent");C(this,"releases");q(this,Je);q(this,B);C(this,"listen",Ks);this.config(r),k(this,B,e),this.assets=new so(this,f(this,B)),this.datasets=new co(this,f(this,B)),this.live=new pn(this),this.projects=new fo(this,f(this,B)),this.users=new mo(this,f(this,B)),this.agent={action:new oo(this,f(this,B))},this.releases=new po(this,f(this,B))}clone(){return new mn(f(this,B),this.config())}config(e){if(e===void 0)return{...f(this,Je)};if(f(this,Je)&&f(this,Je).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return k(this,Je,As(e,f(this,Je)||{})),this}withConfig(e){let r=this.config();return new mn(f(this,B),{...r,...e,stega:{...r.stega||{},...typeof e?.stega=="boolean"?{enabled:e.stega}:e?.stega||{}}})}fetch(e,r,n){return $s(this,f(this,B),f(this,Je).stega,e,r,n)}getDocument(e,r){return vn(this,f(this,B),e,r)}getDocuments(e,r){return ks(this,f(this,B),e,r)}create(e,r){return gn(this,f(this,B),e,"create",r)}createIfNotExists(e,r){return Fs(this,f(this,B),e,r)}createOrReplace(e,r){return Ms(this,f(this,B),e,r)}createVersion({document:e,publishedId:r,releaseId:n,baseId:o,ifBaseRevisionId:i},s){if(!e)return Ls(this,f(this,B),r,o,n,i,s);let a=hn("createVersion",{document:e,publishedId:r,releaseId:n}),c={...e,_id:a},u=r||Dt(e._id);return Ds(this,f(this,B),c,u,s)}delete(e,r){return Us(this,f(this,B),e,r)}discardVersion({releaseId:e,publishedId:r},n,o){let i=dn(r,e);return Ns(this,f(this,B),i,n,o)}replaceVersion({document:e,publishedId:r,releaseId:n},o){let i=hn("replaceVersion",{document:e,publishedId:r,releaseId:n}),s={...e,_id:i};return Vs(this,f(this,B),s,o)}unpublishVersion({releaseId:e,publishedId:r},n){let o=ht(r,e);return Ws(this,f(this,B),o,r,n)}mutate(e,r){return Hs(this,f(this,B),e,r)}patch(e,r){return new bt(e,r,this)}transaction(e){return new ln(e,this)}action(e,r){return K(this,f(this,B),e,r)}request(e){return pe(this,f(this,B),e)}getUrl(e,r){return xo(this,e,r)}getDataUrl(e,r){return Oe(this,e,r)}};Je=new WeakMap,B=new WeakMap;var vo=mn,Xe,z,yn=class yn{constructor(e,r=lr){C(this,"assets");C(this,"datasets");C(this,"live");C(this,"projects");C(this,"users");C(this,"agent");C(this,"releases");C(this,"observable");q(this,Xe);q(this,z);C(this,"listen",Ks);this.config(r),k(this,z,e),this.assets=new ao(this,f(this,z)),this.datasets=new uo(this,f(this,z)),this.live=new pn(this),this.projects=new lo(this,f(this,z)),this.users=new yo(this,f(this,z)),this.agent={action:new io(this,f(this,z))},this.releases=new ho(this,f(this,z)),this.observable=new vo(e,r)}clone(){return new yn(f(this,z),this.config())}config(e){if(e===void 0)return{...f(this,Xe)};if(f(this,Xe)&&f(this,Xe).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),k(this,Xe,As(e,f(this,Xe)||{})),this}withConfig(e){let r=this.config();return new yn(f(this,z),{...r,...e,stega:{...r.stega||{},...typeof e?.stega=="boolean"?{enabled:e.stega}:e?.stega||{}}})}fetch(e,r,n){return M($s(this,f(this,z),f(this,Xe).stega,e,r,n))}getDocument(e,r){return M(vn(this,f(this,z),e,r))}getDocuments(e,r){return M(ks(this,f(this,z),e,r))}create(e,r){return M(gn(this,f(this,z),e,"create",r))}createIfNotExists(e,r){return M(Fs(this,f(this,z),e,r))}createOrReplace(e,r){return M(Ms(this,f(this,z),e,r))}createVersion({document:e,publishedId:r,releaseId:n,baseId:o,ifBaseRevisionId:i},s){if(!e)return sr(Ls(this,f(this,z),r,o,n,i,s));let a=hn("createVersion",{document:e,publishedId:r,releaseId:n}),c={...e,_id:a},u=r||Dt(e._id);return sr(Ds(this,f(this,z),c,u,s))}delete(e,r){return M(Us(this,f(this,z),e,r))}discardVersion({releaseId:e,publishedId:r},n,o){let i=dn(r,e);return M(Ns(this,f(this,z),i,n,o))}replaceVersion({document:e,publishedId:r,releaseId:n},o){let i=hn("replaceVersion",{document:e,publishedId:r,releaseId:n}),s={...e,_id:i};return sr(Vs(this,f(this,z),s,o))}unpublishVersion({releaseId:e,publishedId:r},n){let o=ht(r,e);return M(Ws(this,f(this,z),o,r,n))}mutate(e,r){return M(Hs(this,f(this,z),e,r))}patch(e,r){return new ct(e,r,this)}transaction(e){return new fn(e,this)}action(e,r){return M(K(this,f(this,z),e,r))}request(e){return M(pe(this,f(this,z),e))}dataRequest(e,r,n){return M(xt(this,f(this,z),e,r,n))}getUrl(e,r){return xo(this,e,r)}getDataUrl(e,r){return Oe(this,e,r)}};Xe=new WeakMap,z=new WeakMap;var go=yn;function $u(t,e){return{requester:hs(t),createClient:r=>{let n=hs(t,{ignoreWarnings:r.ignoreWarnings});return new e((o,i)=>(i||n)({maxRedirects:0,maxRetries:r.maxRetries,retryDelay:r.retryDelay,...o}),r)}}}function ku(t){return function(e){return Jc(),t(e)}}var qu=[],ea=$u(qu,go),Dm=ea.requester,_o=ea.createClient,Lm=ku(_o);var ra=Fo(ta(),1),_r=_o({projectId:"1q2kqdh2",dataset:"production",useCdn:!0,apiVersion:"2024-01-01"}),Fu=(0,ra.default)(_r);function na(t){return Fu.image(t)}async function oa(){return _r.fetch('*[_type == "homeSections"][0]')}async function ia(){return _r.fetch('*[_type == "principle"] | order(order asc)')}async function sa(){return _r.fetch(`*[_type == "servicePackage"] | order(order asc) {
    ...,
    "imageUrl": image.asset->url
  }`)}async function aa(t){return _r.fetch(`*[_type == "servicePackage" && slug.current == $slug][0] {
    ...,
    "imageUrl": image.asset->url,
    "detailImageUrl": detailContent.heroImage.asset->url
  }`,{slug:t})}async function ca(){try{let t=await oa();if(t){let r=document.querySelector(".hero__title");r&&t.heroTitle&&(r.innerHTML=t.heroTitle.map(V=>V).join("<br>"));let n=document.querySelector(".hero__subtitle");n&&t.heroSubtitle&&(n.textContent=t.heroSubtitle);let o=document.querySelector(".hero__cta .cta-button__text");o&&t.heroCta&&(o.textContent=t.heroCta);let i=document.querySelectorAll(".marquee__text");if(i.length>0&&t.marqueeText){let V=t.marqueeText.join(' <span class="marquee-symbol">\uAA5C</span>&nbsp;')+' <span class="marquee-symbol">\uAA5C</span>&nbsp;';i.forEach(J=>{J.innerHTML=V})}let s=document.querySelector("#story-eyebrow");s&&t.welcomeEyebrow&&(s.textContent=t.welcomeEyebrow);let a=document.querySelector(".story-intro__content .display-title");a&&t.welcomeTitle&&(a.textContent=t.welcomeTitle);let c=document.querySelector("#why-eyebrow");c&&t.whyEyebrow&&(c.textContent=t.whyEyebrow);let u=document.querySelector(".why__content .body-text");u&&t.whyContent&&(u.textContent=t.whyContent);let p=document.querySelector("#solution-eyebrow");p&&t.solutionEyebrow&&(p.textContent=t.solutionEyebrow);let d=document.querySelector(".solution__content .body-text");d&&t.solutionContent&&(d.textContent=t.solutionContent);let x=document.querySelector(".work__eyebrow");x&&t.workWithMeEyebrow&&(x.textContent=t.workWithMeEyebrow);let l=document.querySelector(".work__title");l&&t.workWithMeTitle&&(l.textContent=t.workWithMeTitle);let b=document.querySelector(".work__cta-title");b&&t.workWithMeCtaTitle&&(b.textContent=t.workWithMeCtaTitle);let h=document.querySelector(".work__cta-text");h&&t.workWithMeCtaText&&(h.textContent=t.workWithMeCtaText);let I=document.querySelector("#about-eyebrow");I&&t.aboutEyebrow&&(I.textContent=t.aboutEyebrow);let O=document.querySelector(".about__title");O&&t.aboutTitle&&(O.textContent=t.aboutTitle);let T=document.querySelector(".about__subtitle");T&&t.aboutSubtitle&&(T.textContent=t.aboutSubtitle);let R=document.querySelector(".about__copy-text");if(R&&t.aboutContent){let V=t.aboutContent.map(J=>J._type==="block"?J.children.map(re=>re.text).join(""):"").join("<br><br>");R.innerHTML=V}}let e=await ia();if(e&&e.length>0){let r=document.querySelector(".principles__list");r&&(r.innerHTML=e.map(n=>`
          <div class="principles__row animate-on-scroll">
            ${n.icon?`<img src="${na(n.icon).url()}" alt="${n.title}" class="principle__icon" />`:`<img src="icons/${n.title.toLowerCase()}.svg" alt="${n.title}" class="principle__icon" />`}
            <div class="principle__content">
              <div class="principle__eyebrow">
                <span class="mono">0${n.order}</span>
                <span class="concrete">${n.title}</span>
              </div>
              <p class="principle__text">${n.description}</p>
            </div>
          </div>
        `).join(""))}}catch(t){console.error("Error loading homepage content:",t)}}async function ua(){try{let t=await sa();if(t&&t.length>0){let e=document.querySelector(".service-packages");e&&(e.innerHTML=t.map(r=>`
          <section class="service-package">
            <div class="service-package__container">
              <div class="service-package__image service-package__image--${r.order} animate-on-scroll"
                   style="background-image: url('${r.imageUrl}')">
              </div>
              <div class="service-package__content animate-on-scroll">
                <h2 class="service-package__title">${r.title}</h2>
                <div class="service-package__details">
                  <p class="service-package__subtitle">${r.subtitle}</p>
                  <p class="service-package__price">${r.price}</p>
                  <p class="service-package__description">${r.description}</p>
                  <a href="${r.slug.current}" class="service-package__cta">${r.ctaText}</a>
                </div>
              </div>
            </div>
          </section>
        `).join(""))}}catch(t){console.error("Error loading service packages:",t)}}async function bn(t){try{let e=await aa(t);if(e){document.title=`${e.title} - Regenerative Motherhood`;let r=document.querySelector(".service-detail__title");r&&(r.textContent=e.title);let n=document.querySelector(".service-detail__subtitle");n&&(n.textContent=e.subtitle);let o=document.querySelector(".service-detail__price");o&&(o.textContent=e.price);let i=document.querySelector(".service-detail__hero-image");i&&e.detailImageUrl&&(i.style.backgroundImage=`url('${e.detailImageUrl}')`);let s=document.querySelector(".service-detail__description");if(s&&e.detailContent?.fullDescription){let p=e.detailContent.fullDescription.map(d=>d._type==="block"?`<p>${d.children.map(x=>x.text).join("")}</p>`:"").join("");s.innerHTML=p}let a=document.querySelector(".service-detail__included-list");a&&e.detailContent?.whatsIncluded&&(a.innerHTML=e.detailContent.whatsIncluded.map(p=>`<li>${p}</li>`).join(""));let c=document.querySelector(".service-detail__booking-info");c&&e.detailContent?.bookingInfo&&(c.textContent=e.detailContent.bookingInfo);let u=document.querySelector(".service-detail__booking-link");u&&e.detailContent?.bookingLink&&(u.href=e.detailContent.bookingLink)}}catch(e){console.error("Error loading service detail:",e)}}function To(){let t=window.location.pathname;t==="/"||t.includes("index.html")?ca():t.includes("work-with-me")?ua():t.includes("sleep-guidance-call")?bn("sleep-guidance-call"):t.includes("3-call-sleep-support")?bn("3-call-sleep-support"):t.includes("comprehensive-sleep-support")&&bn("comprehensive-sleep-support")}typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",To):To());return xa(Mu);})();
/*! Bundled license information:

event-source-polyfill/src/eventsource.js:
  (** @license
   * eventsource.js
   * Available under MIT License (MIT)
   * https://github.com/Yaffle/EventSource/
   *)
*/
//# sourceMappingURL=sanity-bundle.js.map
